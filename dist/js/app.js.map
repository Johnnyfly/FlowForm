{"version":3,"sources":["webpack:///webpack/bootstrap 230569a82d543e99215e","webpack:///./src/Form/Controls/Libs/Index.js","webpack:///./src/Form/DesignProps/Index.js","webpack:///./src/Index.js","webpack:///./src/Form/index.js","webpack:///./src/Form/Css/reset.less","webpack:///./src/Form/Controls/index.js","webpack:///./src/Form/Controls/LayOut/Table/Index.js","webpack:///./src/Form/Controls/LayOut/Table/Index.less","webpack:///./src/Form/Controls/Comm/Libs/autosize.js","webpack:///./src/Form/Controls/LayOut/Table/Events/Index.js","webpack:///./src/Form/Controls/LayOut/Table/Events/mousedown.js","webpack:///./src/Form/Controls/LayOut/Table/Events/AttrEvent.js","webpack:///./src/Form/Controls/Base/TextInput/Index.js","webpack:///./src/Form/Controls/Base/TextInput/Index.less","webpack:///./src/Form/Controls/Css/Index.less","webpack:///./src/Form/Controls/Css/iconfont/iconfont.css","webpack:///./src/Form/Controls/Js/Events/Index.js","webpack:///./src/Form/Controls/Js/Events/Drop.js","webpack:///./src/Form/DesignProps/Css/Index.less","webpack:///./src/Form/DesignProps/Js/CommPropsDef.js","webpack:///./src/Form/FormDesign/Index.js","webpack:///./src/Form/FormDesign/Css/Index.less","webpack:///./src/Form/Controls/LayOut/Table/Events/TbOp.js","webpack:///./src/Form/Controls/LayOut/Table/Events/context.js","webpack:///./src/Form/Controls/LayOut/Table/Js/PropsHtmlDef.js"],"names":["ControlType","Base","MixControl","LayOut","ControlLibs","Table","AllControls","key","key2","TextInput","PropsDesign","init","Opts","$el","$","append","render","opts","type","$setProps","find","Control","Libs","attrs","metaInfo","html","length","each","i","item","$attrItem","className","addClass","title","Options","CommPropsDef","PropsHtmlDef","ApplicatinForm","FormApplicatin","Controls","DesignProps","FormDesign","window","ZppFormApplicatin","defaults","renderType","showDefault","extend","renderTab","$desiEl","Events","$allControls","$controlTab","indexOf","renderControl","prepend","$defaultShow","show","$selTab","$controlBox","$cItem","$text","$icon","iconClass","attr","text","name","initEvent","TableControl","defaultData","rows","cell","j","push","childrens","cells","id","Date","Settings","layOutData","data","tbCount","tb","border","methods","Object","create","$fieldItem","renderCell","$tb","rowItem","$tr","cellItem","$td","rowSpan","colSpan","l","childItem","parse","bindPropsEvents","pars","global","factory","define","exports","module","mod","autosize","map","Map","keys","values","has","get","set","value","delete","_delete","index","splice","createEvent","Event","bubbles","e","evt","document","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","style","getComputedStyle","resize","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","update","changeOverflow","width","offsetWidth","overflowY","getParentOverflows","el","arr","parentNode","Element","scrollTop","node","scrollHeight","overflows","docTop","documentElement","minHeight","forEach","styleHeight","Math","round","height","computed","actualHeight","offsetHeight","dispatchEvent","err","pageResize","destroy","removeEventListener","bind","overflowX","wordWrap","addEventListener","options","Array","prototype","call","x","default","MousedownEvent","AttrEvent","ContextMenu","mousedownEvents","on","event","button","closest","removeClass","blur","bindSelectionTdEvent","initX","pageX","initY","pageY","$table","initPoint","that","$selectionBox","newX","newY","w","h","styleObj","left","top","abs","css","diffSelectionTd","off","remove","cX","offset","cY","cW","cH","isInTop","isReturn","newRight","newBottom","$this","eventObj","mergeCell","TbOp","rowColSpan","splitCell","replaceContolToTextInput","addRow","$active","insertTr","insertToLast","addColTable","next","insertTd","addCol","isFixedW","colspan","fwidth","tbW","tdColspan","parseInt","nW","floor","tW","$aTd","delColTable","click","deleteTd","delRow","delCount","parent","deleteTr","trigger","trigge","$tds","placeHolderText","maxLen","minLen","$setPlaceHolderBox","$txtInput","val","EventInit","DropEvent","bindDropEvent","$container","elX","elY","$dropEl","clone","ElOffset","diffX","diffY","StyleObj","diffInsertPos","insertControl","$desiContent","Offset","cT","DH","insetElHtml","isFind","C_Offset","$insetEl","before","$prev","prev","after","nextAll","eq","tdArr","Comm","diffElementFixedW","PropsDef","hideTitle","placeHolder","required","layout","FromDesign","reToDoHtml","$trs","tdDeW","aSpanRow","tdOffH","tdRowSpan","$firstTd","tdW","tdColSpan","Number","$firstControl","getTdPosi","tbtdLen","_tr","$firstTr","TdsWidth","X","W","trtdLen","TdPosi","DefectIndex","tdCol","tLeft","c","de","$clone","isHasRowSpan","ix","ij","prevUntil","removeIndex","zp","zpl","$trArr","row","commDeleteTr","$cloneTd","tsLeft","removeAttr","$diffRowTr","$item","newTdW","reDiffTdWidth","$newTd","tdStr","tdOffset","tdLeft","tdRigth","breakCount","$tTr","$eTd","Eoffset","thisColspan","newColspan","thisRowSpan","$tdArr","count","delCol","self","removeOffset","rLeft","tw","rRight","cacheOpTds","CellAverage","newW","$txtCol","siblings","strTd","firstTd","firstW","k","reverse","newRowspan","$ttd","nextLen","isOffsetF","insertContextMeun","$contextMenu","initContextEvent"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 230569a82d543e99215e","\r\n//base\r\nimport Table from \"../LayOut/Table/Index\"\r\nimport TextInput from \"../Base/TextInput/Index\"\r\n\r\n\r\nvar ControlType = {\r\n    Base: 'Base',\r\n    MixControl: 'MixControl',\r\n    LayOut: 'LayOut'\r\n}\r\n\r\nvar ControlLibs = {\r\n\r\n    //控件类型\r\n    ControlType: ControlType,\r\n\r\n    //基础控件\r\n    [ControlType.Base]: {\r\n\r\n    },\r\n\r\n    //套件\r\n    [ControlType.MixControl]: {\r\n\r\n    },\r\n\r\n    //布局\r\n    [ControlType.LayOut]: {\r\n        Table\r\n    }\r\n\r\n\r\n};\r\n\r\nControlLibs.AllControls = {\r\n\r\n}\r\n\r\nfor (var key in ControlType) {\r\n\r\n    for (var key2 in ControlLibs[key]) {\r\n        ControlLibs.AllControls[key2] = ControlLibs[key][key2];\r\n    } \r\n}\r\n\r\nControlLibs.AllControls.TextInput = TextInput;\r\n\r\nexport default ControlLibs;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Libs/Index.js","\r\nimport \"./Css/Index.less\"\r\n\r\nimport Libs from \"../Controls/Libs/Index\"\r\nimport CommPropsDef from \"./Js/CommPropsDef\"\r\n\r\nvar PropsDesign = {\r\n\r\n    //初始化\r\n    init(Opts) {\r\n\r\n        var $el = $('<div class=\"designProps\"/>');\r\n\r\n        $el.append('<ul class=\"tabAttrs\"><li class=\"item\">控件设置</li></ul>');\r\n\r\n        $el.append('<div class=\"setProps\"></div>');\r\n\r\n        Opts.$el.append($el);\r\n\r\n    },\r\n\r\n    render(opts) {\r\n\r\n        var type = opts.type,\r\n            $setProps = opts.$el.find(\".setProps\"),\r\n            Control = Libs.AllControls[type];\r\n\r\n         \r\n        if (Control) {\r\n\r\n            var attrs = Control.metaInfo.attrs;\r\n\r\n            $setProps.html('');\r\n\r\n            if (attrs && attrs.length > 0) {\r\n\r\n                $.each(attrs, function (i, item) { \r\n\r\n                    var $attrItem = $('<div class=\"attrItem\" />');\r\n\r\n                    if(item.className){\r\n                        $attrItem.addClass(item.className);\r\n                    }\r\n\r\n                    if (item.title) {\r\n                        $attrItem.append('<div class=\"attrTitle\">' + item.title + '</div>');\r\n                    }\r\n\r\n                    var Options = item.Options;\r\n\r\n                    for (var key in Options) {\r\n                        if (CommPropsDef[key]) {\r\n                            $attrItem.append(CommPropsDef[key]);\r\n                        } else if (Control.PropsHtmlDef[key]) {\r\n                            $attrItem.append(Control.PropsHtmlDef[key]);\r\n                        }\r\n                    }\r\n\r\n                    $setProps.append($attrItem);\r\n\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default PropsDesign;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/DesignProps/Index.js","\r\n\r\nimport * as ApplicatinForm from \"./Form/index\"\r\n\r\n\r\nvar FormApplicatin = {\r\n\r\n    init($el) {\r\n\r\n        ApplicatinForm.Controls.render({ $el });\r\n\r\n        ApplicatinForm.DesignProps.init({ $el });\r\n\r\n        ApplicatinForm.FormDesign.init({ $el });\r\n    }\r\n}\r\n\r\nwindow.ZppFormApplicatin = FormApplicatin;\r\n\r\n\r\nexport default FormApplicatin;\n\n\n// WEBPACK FOOTER //\n// ./src/Index.js","\r\n\r\nimport \"./Css/reset.less\";\r\n\r\n\r\nimport Controls from \"./Controls/index\"\r\nimport FormDesign from \"./FormDesign/Index\"\r\nimport DesignProps from \"./DesignProps/Index\"\r\n\r\n\r\n\r\n\r\nexport { Controls, FormDesign, DesignProps };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Form/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Css/reset.less\n// module id = 4\n// module chunks = 0","\r\n\r\nimport Libs from \"./Libs/Index\"\r\nimport \"./Css/Index.less\";\r\nimport \"./Css/iconfont/iconfont.css\";\r\n\r\nimport Events from \"./Js/Events/Index\"\r\n\r\n//初始化\r\nvar Controls = {\r\n\r\n    //渲染组件\r\n    render(opts) {\r\n\r\n        var defaults = {\r\n            renderType: ['Base', 'LayOut', 'MixControl'],\r\n            showDefault: Libs.ControlType.LayOut,\r\n            $el: $(\"body\")\r\n        }\r\n\r\n        var Options = $.extend(defaults, opts); \r\n\r\n        this.renderTab(Options);\r\n\r\n        var $el = Options.$el;\r\n\r\n        if (Options.$desiEl) {\r\n            $el = Options.$desiEl;\r\n        }\r\n\r\n        //事件初始化\r\n        Events.init($el);\r\n\r\n    },\r\n\r\n    //切换控件\r\n    renderTab(Options) {\r\n\r\n        var renderType = Options.renderType,\r\n            $allControls = $('<div class=\"allControls\"/>');\r\n\r\n        //一个的时候直接显示 不用处理\r\n        if (renderType && renderType.length > 1) {\r\n\r\n            var $controlTab = $('<ul class=\"tabControl\" />'),\r\n                ControlType = Libs.ControlType;\r\n\r\n            //基础\r\n            if (renderType.indexOf(ControlType.Base) > -1) {\r\n                $controlTab.append('<li type=\"' + ControlType.Base + '\" class=\"item ThemeBorderColorLightSelected\">控件</li>');\r\n                $allControls.append(this.renderControl(ControlType.Base, Options.$el));\r\n            }\r\n\r\n            //套件\r\n            if (renderType.indexOf(ControlType.MixControl) > -1) {\r\n                $controlTab.append('<li type=\"' + ControlType.MixControl + '\" class=\"item ThemeBorderColorLightSelected\">套件</li>');\r\n                $allControls.append(this.renderControl(ControlType.MixControl, Options.$el));\r\n\r\n            }\r\n\r\n            //布局\r\n            if (renderType.indexOf(ControlType.LayOut) > -1) {\r\n                $controlTab.append('<li type=\"' + ControlType.LayOut + '\" class=\"item ThemeBorderColorLightSelected\">布局</li>');\r\n                $allControls.append(this.renderControl(ControlType.LayOut, Options.$el));\r\n            }\r\n\r\n        }\r\n\r\n        $allControls.prepend($controlTab);\r\n\r\n        Options.$el.append($allControls);\r\n\r\n        var $defaultShow = Options.$el.find(\".\" + Options.showDefault + \"ControlBox\");\r\n\r\n        //显示\r\n        if ($defaultShow.length <= 0) {\r\n            Options.$el.find(\".ControlBox:first\").show();\r\n        } else {\r\n            $defaultShow.show();\r\n        }\r\n\r\n        //tab 选中\r\n        var $selTab = Options.$el.find(\".tabControl .item[type='\" + Options.showDefault + \"']\");\r\n\r\n        if ($selTab.length > 0) {\r\n            $selTab.addClass(\"selected\");\r\n        } else {\r\n            Options.$el.find(\".tabControl .item:first\").addClass(\"selected\");\r\n        }\r\n\r\n    },\r\n\r\n    //渲染控件\r\n    renderControl(type,$el) {\r\n\r\n        var Controls = Libs[type],\r\n            className = type + \"ControlBox\",\r\n            $controlBox = $('<div class=\"ControlBox\" />');\r\n\r\n        $controlBox.addClass(className);\r\n\r\n        $.each(Controls, function (i, item) {\r\n\r\n            var $cItem = $('<div class=\"cItem ThemeBgCoolHover ThemeBorderColorLightHover\" />'),\r\n                $text = $('<span class=\"text\"/>'),\r\n                $icon = $('<i class=\"iconComm zppiconfont\"/>'),\r\n                title = item.metaInfo.title || \"拖拽至页面中间\",\r\n                iconClass = item.metaInfo.iconClass || \"iconNull\"; \r\n                \r\n\r\n            $cItem.attr(\"type\", item.metaInfo.type);\r\n            $cItem.attr(\"title\", title);\r\n\r\n            $text.text(item.metaInfo.name);\r\n            $icon.addClass(iconClass);\r\n\r\n            $cItem.append($text);\r\n            $cItem.append($icon);\r\n\r\n            $controlBox.append($cItem);\r\n\r\n            //事件初始化 一次\r\n            item.initEvent && item.initEvent($el);\r\n\r\n        });\r\n\r\n        return $controlBox;\r\n    }\r\n\r\n}\r\n\r\nexport default Controls;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/index.js","import \"./Index.less\";\r\n\r\n\r\nimport Libs from \"../../Libs/Index\"\r\nimport autosize from \"../../Comm/Libs/autosize\"\r\nimport Events from \"./Events/Index\"\r\nimport PropsHtmlDef from \"./Js/PropsHtmlDef\"\r\n\r\n//表格\r\nvar TableControl = {\r\n\r\n    defaultData() {\r\n\r\n        var rows = [];\r\n\r\n        for (var i = 0; i < 3; i++) {\r\n\r\n            var cell = [];\r\n\r\n            for (var j = 0; j < 3; j++) {\r\n\r\n                cell.push({\r\n                    childrens: []\r\n                });\r\n\r\n\r\n            }\r\n            rows.push({\r\n                cells: cell\r\n            });\r\n        }\r\n\r\n        return {\r\n\r\n            type: \"Table\",\r\n\r\n            id: \"Table_\" + (+new Date()),\r\n\r\n            Settings: {\r\n\r\n            },\r\n\r\n            layOutData: {\r\n                data: rows\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    //基础配置\r\n    metaInfo: {\r\n        type: \"Table\",\r\n        name: \"布局表格\",\r\n        iconClass: \"zppicon-biaoge\",\r\n        title: \"用于页面布局，允许合并单元格\",\r\n        attrs: [{\r\n            className: \"setRowCol\",\r\n            title: \"行列数\",\r\n            Options: {\r\n                tbCount: true,\r\n                tb: true,\r\n\r\n            }\r\n        }, {\r\n            title: \"其他设置\",\r\n            Options: {\r\n                border: true\r\n            }\r\n        }]\r\n    },\r\n\r\n    //方法集\r\n    methods: {\r\n\r\n        //渲染\r\n        render: function (data) {\r\n\r\n            if (!data) {\r\n                data = Object.create(TableControl.defaultData());\r\n            }\r\n\r\n            var $fieldItem = $('<div class=\"fieldItem\" /> ');\r\n\r\n            //渲染列\r\n            this.renderCell($fieldItem, data);\r\n\r\n            autosize($fieldItem.find(\".txtInput\"));\r\n\r\n            return $fieldItem;\r\n        },\r\n\r\n        //渲染列\r\n        renderCell($fieldItem, data) {\r\n\r\n            var $tb = $('<table class=\"tbLayout\" />');\r\n\r\n            $tb.attr(\"id\",data.id);\r\n\r\n            if (data.layOutData && data.layOutData.data) {\r\n\r\n                var rows = data.layOutData.data;\r\n\r\n                $.each(rows, function (i, rowItem) {\r\n\r\n                    var $tr = $('<tr/>');\r\n\r\n                    $.each(rowItem.cells, function (j, cellItem) {\r\n\r\n                        var $td = $('<td/>'),\r\n                            Settings = cellItem.Settings,\r\n                            childrens = cellItem.childrens;\r\n\r\n                        if (Settings) {\r\n                            if (Settings.rowSpan) {\r\n                                $td.attr(\"rowspan\", Settings.rowSpan);\r\n                            }\r\n\r\n                            if (Settings.colSpan) {\r\n                                $td.attr(\"colspan\", Settings.colSpan);\r\n                            }\r\n                        }\r\n\r\n                        if (childrens && childrens.length > 0) {\r\n\r\n                            $.each(childrens, function (l, childItem) {\r\n                                if (Libs.AllControls[childItem.type]) {\r\n                                    var $fieldItem = Libs.AllControls[childItem.type].render(childItem);\r\n                                    $td.append($fieldItem);\r\n                                }\r\n                            });\r\n\r\n                        } else {\r\n\r\n                            if (Libs.AllControls.TextInput) {\r\n                                var $fieldItem = Libs.AllControls.TextInput.render();\r\n                                $td.append($fieldItem);\r\n                            }\r\n                        }\r\n\r\n                        $tr.append($td);\r\n\r\n                    });\r\n\r\n                    $tb.append($tr);\r\n\r\n                });\r\n            }\r\n\r\n\r\n\r\n            $fieldItem.append($tb);\r\n\r\n        },\r\n\r\n        parse: function () {\r\n\r\n        },\r\n\r\n        //渲染属性\r\n        bindPropsEvents($el) {\r\n\r\n        }\r\n    },\r\n\r\n    //事件初始化\r\n    initEvent($el) {\r\n        Events.init($el);\r\n    },\r\n\r\n    render(pars) {\r\n        return TableControl.methods.render(pars);\r\n    },\r\n\r\n    PropsHtmlDef: PropsHtmlDef\r\n\r\n}\r\n\r\n\r\nexport default TableControl;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Controls/LayOut/Table/Index.less\n// module id = 7\n// module chunks = 0","/*!\r\n\tautosize 4.0.2\r\n\tlicense: MIT\r\n\thttp://www.jacklmoore.com/autosize\r\n*/\r\n(function (global, factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(['module', 'exports'], factory);\r\n\t} else if (typeof exports !== \"undefined\") {\r\n\t\tfactory(module, exports);\r\n\t} else {\r\n\t\tvar mod = {\r\n\t\t\texports: {}\r\n\t\t};\r\n\t\tfactory(mod, mod.exports);\r\n\t\tglobal.autosize = mod.exports;\r\n\t}\r\n})(this, function (module, exports) {\r\n\t'use strict';\r\n\r\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\r\n\t\tvar keys = [];\r\n\t\tvar values = [];\r\n\r\n\t\treturn {\r\n\t\t\thas: function has(key) {\r\n\t\t\t\treturn keys.indexOf(key) > -1;\r\n\t\t\t},\r\n\t\t\tget: function get(key) {\r\n\t\t\t\treturn values[keys.indexOf(key)];\r\n\t\t\t},\r\n\t\t\tset: function set(key, value) {\r\n\t\t\t\tif (keys.indexOf(key) === -1) {\r\n\t\t\t\t\tkeys.push(key);\r\n\t\t\t\t\tvalues.push(value);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelete: function _delete(key) {\r\n\t\t\t\tvar index = keys.indexOf(key);\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tkeys.splice(index, 1);\r\n\t\t\t\t\tvalues.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\r\n\tvar createEvent = function createEvent(name) {\r\n\t\treturn new Event(name, { bubbles: true });\r\n\t};\r\n\ttry {\r\n\t\tnew Event('test');\r\n\t} catch (e) {\r\n\t\t// IE does not support `new Event()`\r\n\t\tcreateEvent = function createEvent(name) {\r\n\t\t\tvar evt = document.createEvent('Event');\r\n\t\t\tevt.initEvent(name, true, false);\r\n\t\t\treturn evt;\r\n\t\t};\r\n\t}\r\n\r\n\tfunction assign(ta) {\r\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\r\n\r\n\t\tvar heightOffset = null;\r\n\t\tvar clientWidth = null;\r\n\t\tvar cachedHeight = null;\r\n\r\n\t\tfunction init() {\r\n\t\t\tvar style = window.getComputedStyle(ta, null);\r\n\r\n\t\t\tif (style.resize === 'vertical') {\r\n\t\t\t\tta.style.resize = 'none';\r\n\t\t\t} else if (style.resize === 'both') {\r\n\t\t\t\tta.style.resize = 'horizontal';\r\n\t\t\t}\r\n\r\n\t\t\tif (style.boxSizing === 'content-box') {\r\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\r\n\t\t\t} else {\r\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\r\n\t\t\t}\r\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\r\n\t\t\tif (isNaN(heightOffset)) {\r\n\t\t\t\theightOffset = 0;\r\n\t\t\t}\r\n\r\n\t\t\tupdate();\r\n\t\t}\r\n\r\n\t\tfunction changeOverflow(value) {\r\n\t\t\t{\r\n\t\t\t\t// Chrome/Safari-specific fix:\r\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\r\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\r\n\t\t\t\tvar width = ta.style.width;\r\n\t\t\t\tta.style.width = '0px';\r\n\t\t\t\t// Force reflow:\r\n\t\t\t\t/* jshint ignore:start */\r\n\t\t\t\tta.offsetWidth;\r\n\t\t\t\t/* jshint ignore:end */\r\n\t\t\t\tta.style.width = width;\r\n\t\t\t}\r\n\r\n\t\t\tta.style.overflowY = value;\r\n\t\t}\r\n\r\n\t\tfunction getParentOverflows(el) {\r\n\t\t\tvar arr = [];\r\n\r\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\r\n\t\t\t\tif (el.parentNode.scrollTop) {\r\n\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\tnode: el.parentNode,\r\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tel = el.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\treturn arr;\r\n\t\t}\r\n\r\n\t\tfunction resize() {\r\n\t\t\tif (ta.scrollHeight === 0) {\r\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar overflows = getParentOverflows(ta);\r\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\r\n             \r\n\t\t\tta.style.minHeight = '';\r\n\t\t\tta.style.minHeight = ta.scrollHeight + heightOffset + 'px';\r\n\r\n\t\t\t// used to check if an update is actually necessary on window.resize\r\n\t\t\tclientWidth = ta.clientWidth;\r\n\r\n\t\t\t// prevents scroll-position jumping\r\n\t\t\toverflows.forEach(function (el) {\r\n\t\t\t\tel.node.scrollTop = el.scrollTop;\r\n\t\t\t});\r\n\r\n\t\t\tif (docTop) {\r\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction update() {\r\n\t\t\tresize();\r\n\r\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\r\n\t\t\tvar computed = window.getComputedStyle(ta, null);\r\n\r\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\r\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\r\n\r\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \r\n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\r\n\t\t\tif (actualHeight < styleHeight) {\r\n\t\t\t\tif (computed.overflowY === 'hidden') {\r\n\t\t\t\t\tchangeOverflow('scroll');\r\n\t\t\t\t\tresize();\r\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\r\n\t\t\t\tif (computed.overflowY !== 'hidden') {\r\n\t\t\t\t\tchangeOverflow('hidden');\r\n\t\t\t\t\tresize();\r\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (cachedHeight !== actualHeight) {\r\n\t\t\t\tcachedHeight = actualHeight;\r\n\t\t\t\tvar evt = createEvent('autosize:resized');\r\n\t\t\t\ttry {\r\n\t\t\t\t\tta.dispatchEvent(evt);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\r\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar pageResize = function pageResize() {\r\n\t\t\tif (ta.clientWidth !== clientWidth) {\r\n\t\t\t\tupdate();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar destroy = function (style) {\r\n\t\t\twindow.removeEventListener('resize', pageResize, false);\r\n\t\t\tta.removeEventListener('input', update, false);\r\n\t\t\tta.removeEventListener('keyup', update, false);\r\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\r\n\t\t\tta.removeEventListener('autosize:update', update, false);\r\n\r\n\t\t\tObject.keys(style).forEach(function (key) {\r\n\t\t\t\tta.style[key] = style[key];\r\n\t\t\t});\r\n\r\n\t\t\tmap.delete(ta);\r\n\t\t}.bind(ta, {\r\n\t\t\theight: ta.style.height,\r\n\t\t\tresize: ta.style.resize,\r\n\t\t\toverflowY: ta.style.overflowY,\r\n\t\t\toverflowX: ta.style.overflowX,\r\n\t\t\twordWrap: ta.style.wordWrap\r\n\t\t});\r\n\r\n\t\tta.addEventListener('autosize:destroy', destroy, false);\r\n\r\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\r\n\t\t// so binding to onkeyup to catch most of those events.\r\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\r\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\r\n\t\t\tta.addEventListener('keyup', update, false);\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', pageResize, false);\r\n\t\tta.addEventListener('input', update, false);\r\n\t\tta.addEventListener('autosize:update', update, false);\r\n\t\tta.style.overflowX = 'hidden';\r\n\t\tta.style.wordWrap = 'break-word';\r\n\r\n\t\tmap.set(ta, {\r\n\t\t\tdestroy: destroy,\r\n\t\t\tupdate: update\r\n\t\t});\r\n\r\n\t\tinit();\r\n\t}\r\n\r\n\tfunction destroy(ta) {\r\n\t\tvar methods = map.get(ta);\r\n\t\tif (methods) {\r\n\t\t\tmethods.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction update(ta) {\r\n\t\tvar methods = map.get(ta);\r\n\t\tif (methods) {\r\n\t\t\tmethods.update();\r\n\t\t}\r\n\t}\r\n\r\n\tvar autosize = null;\r\n\r\n\t// Do nothing in Node.js environment and IE8 (or lower)\r\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\r\n\t\tautosize = function autosize(el) {\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.destroy = function (el) {\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.update = function (el) {\r\n\t\t\treturn el;\r\n\t\t};\r\n\t} else {\r\n\t\tautosize = function autosize(el, options) {\r\n\t\t\tif (el) {\r\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\r\n\t\t\t\t\treturn assign(x, options);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.destroy = function (el) {\r\n\t\t\tif (el) {\r\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.update = function (el) {\r\n\t\t\tif (el) {\r\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t};\r\n\t}\r\n\r\n\texports.default = autosize;\r\n\tmodule.exports = exports['default'];\r\n});\r\n\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Comm/Libs/autosize.js","import MousedownEvent from \"./mousedown\"\r\nimport AttrEvent from \"./AttrEvent\"\r\nimport ContextMenu from \"./context\"\r\n\r\nvar Events = { \r\n    init:function($el){\r\n        MousedownEvent.init($el);\r\n        AttrEvent.init($el);\r\n        ContextMenu.init($el);\r\n    }\r\n}\r\n\r\nexport default Events;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/Index.js","var mousedownEvents = {\r\n\r\n    //框选\r\n    init($fieldItem) {\r\n        //td 选中\r\n        $fieldItem.on(\"mousedown\", \"td\", function (event) {\r\n\r\n            if(event.button!=0){\r\n                return;\r\n            }\r\n\r\n            var $fieldItem = $(this).closest(\".fieldItem\");\r\n              \r\n            $(\".fieldItem\").removeClass(\"selected\");\r\n            $fieldItem.addClass(\"selected\");\r\n\r\n            $(\".fieldItem\").find(\"textarea\").blur();\r\n\r\n            mousedownEvents.bindSelectionTdEvent({\r\n                initX: event.pageX,\r\n                initY: event.pageY,\r\n                $table: $(this).closest(\".tbLayout\")\r\n            });\r\n\r\n        });\r\n\r\n        $(\"body\").on(\"click\",function(){\r\n            $fieldItem.find(\".active\").removeClass(\"active\");\r\n        });\r\n    },\r\n\r\n    //绑定td合并前的选中\r\n    bindSelectionTdEvent: function (initPoint) {\r\n\r\n        $(\"body\").addClass(\"noSelected\");\r\n\r\n        //initPoint  初始化 位置 \r\n        var that = this,\r\n            $selectionBox = false;\r\n\r\n        $(window).on(\"mousemove.selectionTd\", function (event) {\r\n\r\n            var newX = event.pageX,\r\n                newY = event.pageY,\r\n                w = newX - initPoint.initX,\r\n                h = newY - initPoint.initY,\r\n                styleObj = {\r\n                    width: w,\r\n                    height: h,\r\n                    left: initPoint.initX,\r\n                    top: initPoint.initY\r\n                };\r\n\r\n            if (initPoint.initX == newX && initPoint.initY == newY) {\r\n                return false;\r\n            }\r\n\r\n            if ($(\"#selectionBox\").length <= 0) {\r\n                $(\"body\").append(\"<div id='selectionBox'></div>\");\r\n                $selectionBox = $(\"#selectionBox\");\r\n            }\r\n\r\n            if (w < 0) {\r\n\r\n                styleObj.left = initPoint.initX + w;\r\n                w = Math.abs(w);\r\n                styleObj.width = w;\r\n            }\r\n\r\n            if (h < 0) {\r\n                styleObj.top = initPoint.initY + h;\r\n                h = Math.abs(h);\r\n                styleObj.height = h;\r\n            }\r\n\r\n            $selectionBox.css(styleObj);\r\n\r\n            //计算\r\n            that.diffSelectionTd(styleObj, initPoint.$table);\r\n\r\n            return false;\r\n\r\n        });\r\n\r\n\r\n        $(window).on(\"mouseup.selectionTd\", function () {\r\n\r\n            $(window).off(\"mousemove.selectionTd\");\r\n            $(window).off(\"mouseup.selectionTd\");\r\n\r\n            $selectionBox && $selectionBox.remove();\r\n\r\n            $(\"body\").removeClass(\"noSelected\");\r\n\r\n        });\r\n    },\r\n\r\n    //计算选中的td\r\n    diffSelectionTd: function (styleObj, $table) {\r\n\r\n        var that = this;\r\n        //遍历所有的td  \r\n        $table.find(\"td\").each(function () {\r\n\r\n            var $td = $(this),\r\n                cX = $td.offset().left,\r\n                cY = $td.offset().top,\r\n                cW = $td.width(),\r\n                cH = $td.height(),\r\n                isInTop = cX < styleObj.left && cX + cW > styleObj.left || cX > styleObj.left && cX < styleObj.left + styleObj.width;\r\n\r\n            if (!isInTop) {\r\n                $td.removeClass(\"active\");\r\n                return true;\r\n            }\r\n\r\n            if (cY < styleObj.top && cY + cH > styleObj.top || cY > styleObj.top && cY < styleObj.top + styleObj.height) {\r\n\r\n                $td.addClass(\"active\");\r\n\r\n                var isReturn = false;\r\n\r\n                //横向\r\n                if($td.attr(\"colspan\")){\r\n\r\n                    var newRight = cX + cW;\r\n\r\n                    if(newRight > styleObj.left + styleObj.width ){\r\n\r\n                        styleObj.width = newRight - styleObj.left;\r\n\r\n                        //that.diffSelectionTd(styleObj, $table);\r\n\r\n                        isReturn = true;\r\n\r\n                    }\r\n                    if(cX < styleObj.left){ \r\n\r\n                        styleObj.width = styleObj.left + styleObj.width - cX-1;\r\n                        //因为是小于 所以要去掉一\r\n                        styleObj.left = cX-1;\r\n                        //that.diffSelectionTd(styleObj, $table);\r\n                        isReturn = true;\r\n                    }\r\n                }\r\n                 \r\n                //纵向\r\n                if($td.attr(\"rowspan\")){\r\n\r\n                    var newBottom = cY + cH;\r\n\r\n                    if(newBottom > styleObj.top + styleObj.height ){\r\n\r\n                        styleObj.height = newBottom - styleObj.top;\r\n\r\n                        //that.diffSelectionTd(styleObj, $table);\r\n\r\n                        isReturn = true;\r\n                    }\r\n\r\n                    if(cY < styleObj.top){ \r\n                        styleObj.height = styleObj.top + styleObj.height - cY-1;\r\n                        //因为是小于 所以要去掉一\r\n                        styleObj.top = cY-1;\r\n                    }\r\n                } \r\n\r\n                if(isReturn){\r\n                    that.diffSelectionTd(styleObj, $table);\r\n                    return false;\r\n                }\r\n\r\n            } else {\r\n                $td.removeClass(\"active\");\r\n            }\r\n\r\n        });\r\n\r\n    } \r\n}\r\n\r\nexport default mousedownEvents;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/mousedown.js","\r\nimport TbOp from \"./TbOp\"\r\nimport Libs from \"../../../Libs/Index\"\r\nimport autosize from \"../../../Comm/Libs/autosize\"\r\n\r\n\r\nvar AttrEvent = {\r\n\r\n    init($el) {\r\n\r\n        var that = this;\r\n\r\n        //绑定事件\r\n        $el.on(\"click\", \".btnHandleTable\", function () {\r\n\r\n            var $this = $(this),\r\n                type = $this.attr(\"type\"),\r\n                $fieldItem = $el.find(\".fieldItem.selected\");\r\n\r\n            if ($fieldItem.length > 0) {\r\n                that.eventObj[type] && that.eventObj[type]($fieldItem, $this);\r\n            }\r\n\r\n        });\r\n\r\n    },\r\n\r\n    //事件处理对象\r\n    eventObj: {\r\n\r\n        //合并单元格\r\n        mergeCell($fieldItem, $el) {\r\n            TbOp.rowColSpan($fieldItem.find(\".tbLayout\"));\r\n        },\r\n\r\n        //拆分单元格\r\n        splitCell($fieldItem, $el) {\r\n\r\n            $fieldItem.find(\"td.active\").each(function () {\r\n\r\n                var $this = $(this);\r\n\r\n                if ($this.attr(\"rowspan\") > 1 || $this.attr(\"colspan\") > 1) {\r\n                    TbOp.splitCell($this);\r\n                }\r\n\r\n                this.replaceContolToTextInput($fieldItem);\r\n\r\n            });\r\n        },\r\n\r\n        //添加行\r\n        addRow($fieldItem, $el) {\r\n\r\n            var $active = $fieldItem.find(\".active:last\");\r\n\r\n            if ($active.length > 0) {\r\n                TbOp.insertTr($active.closest(\"tr\"));\r\n            } else {\r\n                TbOp.insertToLast($fieldItem);\r\n            }\r\n\r\n            this.replaceContolToTextInput($fieldItem);\r\n            // var $txtRow = $(\"#controlAttrs .txtRow\");\r\n            // $txtRow.val(parseInt($txtRow.val()) + 1); \r\n        },\r\n\r\n        //布局表格添加列\r\n        addColTable($fieldItem, $el) {\r\n\r\n            //选中的列\r\n            var $active = $fieldItem.find(\".active:last\");\r\n\r\n            if ($active.length > 0 && $active.next().length > 0) {\r\n                TbOp.insertTd($active);\r\n                //重新计算控件大小\r\n                //Comm.diffElementFixedW($fieldItem);\r\n\r\n            } else {\r\n                this.addCol($fieldItem);\r\n            }\r\n\r\n        },\r\n\r\n        //添加列 数据表格\r\n        addCol: function ($fieldItem) {\r\n\r\n            var isFixedW = $fieldItem.find(\"table tr td:first\").attr(\"width\");\r\n\r\n            if (isFixedW) {\r\n\r\n                var colspan = 0,\r\n                    fwidth = $fieldItem.width(),\r\n                    tbW = 0;\r\n\r\n                $fieldItem.find(\"table tr:first td\").each(function () {\r\n\r\n                    var tdColspan = $(this).attr(\"colspan\");\r\n                    tbW += $(this).width();\r\n\r\n                    if (tdColspan) {\r\n                        colspan += parseInt(tdColspan);\r\n                    } else {\r\n                        colspan += 1;\r\n                    }\r\n                });\r\n\r\n                var nW = Math.floor(fwidth / (colspan + 1));\r\n\r\n                //重新计算td 的宽度  按比例 减去 宽度\r\n                $fieldItem.find(\"table tr td\").each(function () {\r\n\r\n                    var $this = $(this),\r\n\r\n                        tW = parseInt($this.attr(\"width\"));\r\n\r\n                    tW -= (tW / tbW * nW);\r\n\r\n                    tW = tW > 1 && tW || 1;\r\n\r\n                    tW = Math.floor(tW);\r\n\r\n                    $this.attr(\"width\", tW);\r\n\r\n                    //var $fieldItem = $this.find(\".fieldItem\");\r\n\r\n                    //if ($fieldItem.length > 0) {\r\n                    //Comm.diffElementFixedW($fieldItem);\r\n                    //}\r\n\r\n                });\r\n\r\n\r\n                $fieldItem.find(\"table tr\").each(function (i) {\r\n\r\n                    var $aTd = $(\"<td/>\");\r\n\r\n                    $aTd.attr(\"width\", nW);\r\n\r\n                    $aTd.append('<div class=\"tdNull\">&nbsp;</div>');\r\n\r\n                    $(this).append($aTd);\r\n\r\n                    // if ($fieldItem.attr(\"type\") == \"DataTable\") {\r\n                    //     myautosize($aTd.find(\".setPlaceHolder\"));\r\n                    // }\r\n                });\r\n\r\n\r\n            } else {\r\n\r\n                $fieldItem.find(\"table tr\").each(function (i) {\r\n\r\n                    var $aTd = $(\"<td/>\");\r\n\r\n                    $aTd.append('<div class=\"tdNull\">&nbsp;</div>');\r\n\r\n                    $(this).append($aTd);\r\n\r\n                    // if ($fieldItem.attr(\"type\") == \"DataTable\") {\r\n                    //     myautosize($aTd.find(\".setPlaceHolder\"));\r\n                    // }\r\n                });\r\n            }\r\n\r\n            this.replaceContolToTextInput($fieldItem);\r\n\r\n            // var $txtCol = $(\"#controlAttrs .txtCol\");\r\n            // $txtCol.val(parseInt($txtCol.val()) + 1);\r\n\r\n        },\r\n\r\n        //删除列 布局表格\r\n        delColTable($fieldItem) {\r\n\r\n            //默认保留一列\r\n            if ($fieldItem.find(\"tr:first td\").length <= 1) {\r\n                $fieldItem.find(\".btnDelField\").click();\r\n                return;\r\n            }\r\n\r\n            //选中的列\r\n            var $td = $fieldItem.find(\".active\");\r\n\r\n            if ($td.length <= 0) {\r\n                $td = $fieldItem.find(\"tr:first td:last\");\r\n            }\r\n\r\n            //遍历全部删除\r\n            $td.each(function () {\r\n                TbOp.deleteTd($(this));\r\n            });\r\n\r\n\r\n            //重新计算控件大小\r\n            //Comm.diffElementFixedW($fieldItem);\r\n\r\n\r\n        },\r\n\r\n        //删除行\r\n        delRow($fieldItem) {\r\n\r\n            var $active = $fieldItem.find(\".active\"),\r\n                delCount = 1;\r\n\r\n            //删除选中的或者 最后一个\r\n            if ($active.length > 0) {\r\n                delCount = 0;\r\n                $active.parent().each(function () {\r\n                    delCount += TbOp.deleteTr($(this).find(\"td:first\"));\r\n                });\r\n\r\n            } else {\r\n                delCount = TbOp.deleteTr($fieldItem.find(\"tr:last td:first\"));\r\n            }\r\n\r\n            //删除后有可能没有了\r\n            if ($fieldItem.find(\"td\").length <= 0) {\r\n\r\n                //最后一行删除表格\r\n                $fieldItem.find(\".btnDelField\").trigger(\"click\", {\r\n                    trigge: true\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            // var $txtRow = $(\"#controlAttrs .txtRow\");\r\n            // $txtRow.val(parseInt($txtRow.val()) - delCount);\r\n\r\n        },\r\n\r\n        //替换\r\n        replaceContolToTextInput($fieldItem) {\r\n\r\n            var $tds = $fieldItem.find(\".tdNull\").parent();\r\n\r\n            //空的td\r\n            $tds.each(function () {\r\n                var $fieldItem = Libs.AllControls.TextInput.render();\r\n                $(this).html($fieldItem);\r\n            });\r\n\r\n            autosize($tds.find(\".txtInput\"));\r\n        }\r\n    },\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default AttrEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/AttrEvent.js","import \"./Index.less\"\r\n\r\n\r\nvar TextInput = {\r\n\r\n    defaultData() {\r\n\r\n        return {\r\n\r\n            type: \"TextInput\",\r\n\r\n            id: \"TextInput_\" + (+new Date()),\r\n\r\n            Settings: {\r\n                placeHolderText: \"\"\r\n            },\r\n\r\n            values: []\r\n        }\r\n    },\r\n\r\n    metaInfo: {\r\n        type: \"TextInput\",\r\n        name: \"文本输入框\",\r\n        iconClass: \"icon-wenbenshurukuang\",\r\n        attrs: {\r\n            maxLen: 200,\r\n            minLen: false,\r\n            placeHolderText: true,\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        render(data) {\r\n\r\n            if (!data) {\r\n                data = TextInput.defaultData();\r\n            }\r\n\r\n            var $fieldItem = $('<div class=\"fieldItem\" />'),\r\n                $setPlaceHolderBox = $('<div class=\"txtInputBox\" />'),\r\n                $txtInput = $('<textarea rows=\"1\" class=\"txtInput\"/>');\r\n\r\n            if (data.Settings.placeHolderText) {\r\n                $txtInput.attr('placeholder', data.Settings.placeHolderText);\r\n            }\r\n\r\n            $fieldItem.attr(\"id\", data.id).attr(\"type\", data.type);\r\n\r\n            if (data.values[0]) {\r\n                $txtInput.val(data.values[0]);\r\n            }\r\n\r\n            if (data.Settings.style) {\r\n                $txtInput.attr(\"style\", data.Settings.style);\r\n            }\r\n\r\n            $setPlaceHolderBox.append($txtInput);\r\n\r\n            $fieldItem.append($setPlaceHolderBox);\r\n\r\n            return $fieldItem;\r\n\r\n        },\r\n\r\n        parse() {\r\n\r\n        }\r\n\r\n    },\r\n\r\n\r\n    render(data){\r\n        return TextInput.methods.render(data);\r\n    }\r\n}\r\n\r\nexport default TextInput;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Base/TextInput/Index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Controls/Base/TextInput/Index.less\n// module id = 13\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Controls/Css/Index.less\n// module id = 14\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Controls/Css/iconfont/iconfont.css\n// module id = 15\n// module chunks = 0","\r\nimport DropEvent from \"./Drop.js\"\r\n\r\n\r\nvar EventInit = {\r\n\r\n    //初始化\r\n    init($el) {\r\n\r\n        DropEvent.init($el);\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default EventInit;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Js/Events/Index.js","\r\n\r\n\r\nimport Libs from \"../../Libs/Index\"\r\nimport DesignProps from \"../../../DesignProps/Index\"\r\n\r\nvar DropEvent = {\r\n\r\n    //初始化绑定\r\n    init($el) {\r\n\r\n        var that = this;\r\n\r\n        //拖拽控件放入\r\n        $el.on(\"mousedown\", \".ControlBox .cItem\", function (event) {\r\n            that.bindDropEvent({\r\n                $container: $el,\r\n                $el: $(this),\r\n                elX: event.pageX,\r\n                elY: event.pageY\r\n            });\r\n        });\r\n\r\n\r\n    },\r\n\r\n    //拖拽事件绑定\r\n    bindDropEvent: function (opts) {\r\n\r\n        var $dropEl = opts.$el.clone(false, false),\r\n            ElOffset = opts.$el.offset(),\r\n            diffX = opts.elX - ElOffset.left,\r\n            diffY = opts.elY - ElOffset.top,\r\n            that = this,\r\n            type = $dropEl.attr(\"type\");\r\n\r\n        $dropEl.attr(\"id\", \"dropEl\");\r\n\r\n        $(\"body\").append($dropEl);\r\n\r\n        $(\"body\").addClass(\"noSelected\");\r\n\r\n        $(window).on(\"mousemove.moveInput\", function (event) {\r\n\r\n            var newX = event.pageX,\r\n                newY = event.pageY,\r\n                StyleObj = {\r\n                    $container: opts.$container,\r\n                    left: newX - diffX,\r\n                    top: newY - diffY,\r\n                    type: type\r\n                };\r\n\r\n            if (newX == opts.elX && newY == opts.elY) {\r\n                return;\r\n            }\r\n\r\n            $dropEl.css(StyleObj);\r\n\r\n            that.diffInsertPos(StyleObj);\r\n\r\n            return false;\r\n\r\n        });\r\n\r\n        $(window).on(\"mouseup.moveInput\", function () {\r\n\r\n            $(window).off(\"mousemove.moveInput\");\r\n\r\n            $(window).off(\"mouseup.moveInput\");\r\n\r\n            that.insertControl(type, opts.$container);\r\n\r\n            $dropEl.remove();\r\n\r\n            $(\"body\").removeClass(\"noSelected\");\r\n\r\n        });\r\n\r\n    },\r\n\r\n\r\n    //计算插入的位置\r\n    diffInsertPos: function (StyleObj) {\r\n\r\n        var $desiContent = StyleObj.$container.find(\".fromDesign\"),\r\n            Offset = $desiContent.offset(),\r\n            cT = Offset.top,\r\n            cX = Offset.left,\r\n            cH = $desiContent.height(),\r\n            cW = $desiContent.width(),\r\n            DH = $(\"#dropEl\").height(),\r\n            that = this,\r\n            insetElHtml = '<div class=\"fieldItem\"  id=\"insetEl\"/>';\r\n\r\n\r\n        //在 中间\r\n        if (StyleObj.top + DH > cT && StyleObj.top < cT + cH && StyleObj.left > cX && StyleObj.left < cX + cW) {\r\n\r\n            var $fieldItem = $desiContent.find(\".fieldItem\");\r\n\r\n            //空 没有元素\r\n            if ($fieldItem.length <= 0) {\r\n\r\n                if ($(\"#insetEl\").length <= 0) {\r\n                    $desiContent.append(insetElHtml);\r\n                }\r\n\r\n            } else {\r\n\r\n                var isFind = false;\r\n                //上面下面\r\n                $fieldItem.each(function () {\r\n\r\n                    if ($(this).closest(\"td\").length > 0 && $(this).attr(\"type\") != \"TextInput\") {\r\n                        return true;\r\n                    }\r\n\r\n                    var $this = $(this),\r\n                        C_Offset = $this.offset(),\r\n                        cT = C_Offset.top,\r\n                        cH = $this.height(),\r\n                        $insetEl = $(\"#insetEl\");\r\n\r\n\r\n                    if (StyleObj.top < cT && StyleObj.top + DH > cT) {\r\n                        isFind = true;\r\n                        if ($insetEl.length <= 0) {\r\n                            $this.before(insetElHtml);\r\n                        } else {\r\n                            $this.before($insetEl);\r\n                        }\r\n                        return false;\r\n                    }\r\n\r\n\r\n                    //在该元素内\r\n                    if (StyleObj.top > cT && StyleObj.top < cT + cH) {\r\n\r\n                        isFind = true;\r\n\r\n                        if ($this.attr(\"id\") == \"insetEl\") {\r\n                            return false;\r\n                        }\r\n\r\n                        //表格\r\n                        if ($this.find(\"table\").length > 0 && StyleObj.type != \"Table\" && StyleObj.type != \"DataTable\") {\r\n\r\n                            var $prev = $this.prev();\r\n\r\n                            if ($prev.length > 0) {\r\n\r\n                                var type = $prev.attr(\"type\");\r\n                                if (type = \"Table\" || type == \"DataTable\") {\r\n                                    cT += 10;\r\n                                }\r\n                            }\r\n\r\n                            //底部了\r\n                            if (DH + StyleObj.top > cT + cH) {\r\n                                if ($insetEl.length <= 0) {\r\n                                    $this.after(insetElHtml);\r\n                                } else {\r\n                                    $this.after($insetEl);\r\n                                }\r\n                                return false;\r\n                            }\r\n\r\n\r\n                            $this.find(\"td\").each(function () {\r\n\r\n                                var $td = $(this),\r\n                                    cX = $td.offset().left,\r\n                                    cY = $td.offset().top,\r\n                                    cW = $td.width(),\r\n                                    cH = $td.height(),\r\n                                    isInTop = cX < StyleObj.left && cX + cW > StyleObj.left || cX > StyleObj.left && cX < StyleObj.left + StyleObj.width;\r\n\r\n                                if ($td.find(\".fieldItem\").length > 1) {\r\n                                    $td.find(\".fieldItem:first\").nextAll().remove();\r\n                                }\r\n\r\n                                if (!isInTop || $td.find(\".fieldItem\").length > 0 && $td.find(\".fieldItem\").attr(\"type\") != \"TextInput\") {\r\n                                    return true;\r\n                                }\r\n\r\n                                if (cY < StyleObj.top && cY + cH > StyleObj.top || cY > StyleObj.top && cY < StyleObj.top + StyleObj.height) {\r\n\r\n                                    //数据表格\r\n                                    if ($this.attr(\"type\") == \"DataTable\") {\r\n                                        if ($td.parent().index() == 0) {\r\n                                            var index = $td.index();\r\n                                            $td = $td.parent().next().find(\"td\").eq(index);\r\n                                        }\r\n                                    }\r\n\r\n                                    if ($td.find(\".fieldItem\").length > 0 && $td.find(\".fieldItem.textInput\").length <= 0) {\r\n                                        return true;\r\n                                    }\r\n\r\n                                    if ($insetEl.length <= 0) {\r\n                                        $td.prepend(insetElHtml);\r\n                                    } else {\r\n                                        $td.prepend($insetEl);\r\n                                    }\r\n\r\n                                    return false;\r\n\r\n                                }\r\n\r\n                            });\r\n\r\n                            return false;\r\n                        }\r\n\r\n                        //下部分\r\n                        if (StyleObj.top > (cT + cH / 2)) {\r\n\r\n                            if ($insetEl.length <= 0) {\r\n                                $this.after(insetElHtml);\r\n                            } else {\r\n                                $this.after($insetEl);\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            if ($insetEl.length <= 0) {\r\n                                $this.before(insetElHtml);\r\n                            } else {\r\n                                $this.before($insetEl);\r\n                            }\r\n\r\n                        }\r\n\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n                if (!isFind) {\r\n\r\n                    if ($(\"#insetEl\").length <= 0) {\r\n                        $desiContent.append(insetElHtml);\r\n                    } else {\r\n                        $desiContent.find(\".fieldItem:last\").after($(\"#insetEl\"));\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            $(\"#insetEl\").remove();\r\n        }\r\n\r\n    },\r\n\r\n    //放入控件\r\n    insertControl(type, $container) {\r\n\r\n        var $insetEl = $(\"#insetEl\");\r\n        //可以插入\r\n        if ($insetEl.length > 0) {\r\n\r\n            if (!Libs.AllControls[type]) {\r\n                return;\r\n            }\r\n\r\n            var Control = Libs.AllControls[type],\r\n                $el = Control.render();\r\n\r\n\r\n            if ($insetEl.closest(\"tr\").length <= 0) {\r\n\r\n                $insetEl.after($el);\r\n\r\n            } else {\r\n\r\n                var $td = $insetEl.closest(\"td\"),\r\n                    $tb = $td.closest(\"table\");\r\n\r\n                $insetEl.remove();\r\n\r\n                if (type == \"Table\" || type == \"DataTable\") {\r\n                    $dropEl.remove();\r\n                    return;\r\n                }\r\n\r\n                //默认输入\r\n                if ($td.find(\".fieldItem.textInput\").length >= 1) {\r\n                    $td.find(\".fieldItem\").remove();\r\n                }\r\n\r\n                if ($td.find(\".fieldItem\").length > 0) {\r\n                    $dropEl.remove();\r\n                    return;\r\n                }\r\n\r\n\r\n                //没有width\r\n                if (!$td.attr(\"width\")) {\r\n                    //设置宽度\r\n                    $tb.find(\"tr td\").each(function () {\r\n                        var $this = $(this);\r\n                        $this.attr(\"width\", $this.width()).attr(\"height\", $this.height());\r\n                    });\r\n                }\r\n\r\n\r\n                var tdArr = [];\r\n\r\n                $td.closest(\".tbLayout\").find(\"td\").each(function () {\r\n                    var $this = $(this);\r\n                    tdArr.push({\r\n                        $el: $this,\r\n                        w: $this.width(),\r\n                        h: $this.height()\r\n                    });\r\n                });\r\n\r\n                $.each(tdArr, function (i, item) {\r\n                    item.$el.attr(\"width\", item.w).attr(\"height\", item.h);\r\n                });\r\n\r\n\r\n                //计算浮动宽度\r\n                Comm.diffElementFixedW($el, $td.width());\r\n\r\n                if ($td.closest(\".fieldItem\").attr(\"type\") == \"DataTable\") {\r\n                    $el.addClass(\"hideTitle\");\r\n                }\r\n\r\n                $td.append($el);\r\n\r\n                $td.find('.default-ele').remove();\r\n            }\r\n\r\n\r\n            $insetEl.remove();\r\n\r\n            $(\"#desiContent .fieldItem.selected\").removeClass(\"selected\");\r\n\r\n            $el.addClass(\"selected\");\r\n\r\n            DesignProps.render({ type, $el: $container });\r\n\r\n\r\n        }\r\n\r\n    },\r\n\r\n}\r\n\r\n\r\nexport default DropEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Js/Events/Drop.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/DesignProps/Css/Index.less\n// module id = 18\n// module chunks = 0","\r\nvar PropsDef = {\r\n\r\n    title: '<div class=\"optItem\"><input maxlength=\"50\" type=\"text\" class=\"txtTitle\" /></div>',\r\n\r\n    hideTitle: '<div class=\"optItem\"><label class=\"attrLab\"><input class=\"ckHideBox\" type=\"checkbox\"> 隐藏标题 </label></div>',\r\n\r\n    placeHolder: '<div class=\"optItem\"><input type=\"text\" class=\"txtPlaceHolder\"></div>',\r\n\r\n    required: '<div class=\"optItem\"><label class=\"attrLab\"><input class=\"ckBox\" type=\"checkbox\"> 这个是必填项目 </label></div>',\r\n\r\n    layout: '<div class=\"optItem\"><label class=\"attrLab\"><input name=\"setRowCol\" checked=\"true\" class=\"ckLayOut\" key=\"row\" type=\"radio\"> 横向 </label>' +\r\n        '<label class=\"attrLab\"><input key=\"col\" name=\"setRowCol\" class=\"ckLayOut\" type=\"radio\"> 纵向 </label></div>',\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default PropsDef;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/DesignProps/Js/CommPropsDef.js","\r\n\r\nimport \"./Css/Index.less\"\r\n\r\nvar FromDesign = {\r\n\r\n    //初始化\r\n    init(Opts){\r\n\r\n        var $el = $('<div class=\"desiContent\"/>');\r\n        \r\n        $el.append(this.reToDoHtml());\r\n        \r\n        $el.append('<div class=\"fromDesign\"/>'); \r\n\r\n        Opts.$el.append($el);\r\n\r\n    },\r\n\r\n    reToDoHtml(){\r\n        return '<div class=\"reToDo\">' +\r\n        '<span class=\"btnReDo empty\"><i class=\"commoniconfont icon-chexiao\"></i><span class=\"text\">撤销</span></span>'+\r\n        ' <span class=\"btnToDo empty\"><i class=\"commoniconfont icon-huifu1\"></i><span class=\"text\">恢复</span></span></div>'; \r\n    },\r\n\r\n}\r\n\r\nexport default FromDesign;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/FormDesign/Index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/FormDesign/Css/Index.less\n// module id = 21\n// module chunks = 0","\r\nvar TbOp = {\r\n\r\n    //合并行\r\n    rowColSpan: function ($tb) {\r\n\r\n        if($tb.find(\"td.active\").length <=1){\r\n            return;\r\n        }\r\n\r\n        var colspan = 0,\r\n            rowSpan = 0,\r\n            $tr = $tb.find(\"td.active:first\").closest(\"tr\"),\r\n            $trs = $tb.find(\"td.active\").closest(\"tr\"),\r\n            tdDeW = 0;\r\n\r\n        $tr.find(\"td.active\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                colspan += parseInt(tdColspan);\r\n            } else {\r\n                colspan += 1;\r\n            }\r\n\r\n            if ($(this).attr(\"width\")) {\r\n                tdDeW += parseInt($(this).attr(\"width\"));\r\n            }\r\n\r\n        });\r\n\r\n        var aSpanRow = 0,\r\n            tdOffH = $(\"td.active:last\").offset().top + $(\"td.active:last\").height() - $(\"td.active:first\").offset().top;\r\n\r\n        $trs.each(function () {\r\n            var tdRowSpan = $(this).find(\"td.active:first\").attr(\"rowspan\");\r\n            if (tdRowSpan && $(this).next().find(\"td.active\").length <= 0) {\r\n                rowSpan += parseInt(tdRowSpan);\r\n            } else {\r\n                rowSpan += 1;\r\n            }\r\n        });\r\n\r\n        //合并行 两行合并 只合并了前两列 会多出一行 因为遍历的是tr所以需要去掉\r\n        rowSpan -= aSpanRow;\r\n\r\n        //没有合并过\r\n        if (!$tb.find(\"tr:first td:first\").attr(\"width\")) {\r\n\r\n            //设置宽度\r\n            $tb.find(\"tr td\").each(function () {\r\n                var $this = $(this);\r\n                $this.attr(\"width\", $this.width()).attr(\"height\", $this.height());\r\n            });\r\n\r\n        }\r\n\r\n        var $firstTd =$tb.find(\"td.active:first\"),\r\n            tdW = $firstTd.width(), \r\n            tdColSpan = parseInt($firstTd.attr(\"colspan\")) || 1; \r\n       \r\n        //有列\r\n        if (tdColSpan && !Number.isNaN(tdColSpan)) {\r\n            tdW /= tdColSpan;\r\n        }\r\n\r\n        var $firstControl = $tb.find('td.active .fieldItem:first');\r\n\r\n        $firstTd.attr(\"rowspan\", rowSpan).attr(\"colspan\", colspan).removeClass(\"active\");\r\n\r\n        $tb.find(\"td.active\").remove();\r\n\r\n        if ($firstControl.length > 0) {\r\n\r\n            $firstTd.html(\"\").append($firstControl);\r\n\r\n            //Comm.diffElementFixedW($fieldItem);\r\n        }\r\n\r\n        //设置宽度高度 \r\n        tdW *= parseInt(colspan); \r\n\r\n        //tdH tdHDiff\r\n        $firstTd.attr(\"width\", tdDeW == 0 && tdW || tdDeW).attr(\"height\", tdOffH);\r\n    },\r\n\r\n    /**********************************************************  添加行 *******************************************************/\r\n    //获取td 的位置\r\n    getTdPosi(tbtdLen, $tb) {\r\n\r\n        var _tr = '<tr>';\r\n\r\n        for (var j = 0; j < tbtdLen; j++) {\r\n            _tr += '<td></td>';\r\n        }\r\n        _tr += '</tr>';\r\n\r\n        $tb.prepend(_tr);\r\n\r\n        var $firstTr = $tb.find(\"tr:first\"),\r\n            TdsWidth = [];\r\n\r\n        $firstTr.find(\"td\").each(function (i) {\r\n\r\n            var $this = $(this);\r\n\r\n            TdsWidth.push({\r\n                $td: $this,\r\n                X: $this.offset().left,\r\n                W: $this.width()\r\n            });\r\n\r\n        });\r\n\r\n        $firstTr.remove();\r\n\r\n        return TdsWidth;\r\n    },\r\n\r\n    //插入tr\r\n    insertTr($tr) {\r\n\r\n        if (!$tr) {\r\n            return;\r\n        }\r\n\r\n      \r\n        var $tb = $tr.closest(\".tbLayout\");\r\n\r\n        //插入后处理\r\n        var tbtdLen = 0,\r\n            trtdLen = 0;\r\n\r\n        //表格td 的 个数\r\n        $tb.find(\"tr:first td\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                tbtdLen += parseInt(tdColspan);\r\n            } else {\r\n                tbtdLen += 1;\r\n            }\r\n        });\r\n\r\n        //每个td的位置\r\n        var TdPosi = this.getTdPosi(tbtdLen, $tb),\r\n            DefectIndex = [],\r\n            tdCol = 0;\r\n\r\n        //当前tr td 的个数 如果一样 不需要处理 不一样 需要递归向上处理\r\n        $tr.find(\"td\").each(function (i) {\r\n\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n\r\n            var tLeft = $(this).offset().left;\r\n\r\n            if (tdColspan) {\r\n\r\n                trtdLen += parseInt(tdColspan);\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += parseInt(tdColspan);\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += parseInt(tdColspan);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n\r\n            } else {\r\n\r\n                trtdLen += 1;\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += 1;\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n        if (tdCol < TdPosi.length) {\r\n            for (var de = tdCol; de < TdPosi.length; de++) {\r\n                DefectIndex.push(de);\r\n            }\r\n        }\r\n\r\n\r\n        //清除数据\r\n        var $clone = $tr.clone(false, false).find(\"td\").html('<div class=\"tdNull\"></div>').parent(),\r\n            isHasRowSpan = false;\r\n\r\n        if ($clone.find(\"td\").length != 1) {\r\n\r\n            $clone.find(\"td\").each(function () {\r\n                if ($(this).attr(\"rowspan\")) {\r\n                    isHasRowSpan = true;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n        //td 中不止一个元素\r\n        if ($tr.find(\"td\").length > 0) {\r\n\r\n            if (trtdLen == tbtdLen && !isHasRowSpan) {\r\n\r\n                var rowSpan = $tr.find(\"td:first\").attr(\"rowspan\");\r\n\r\n                if (rowSpan) {\r\n\r\n                    rowSpan = parseInt(rowSpan) - 1;\r\n\r\n                    for (var ix = 0; ix < rowSpan; ix++) {\r\n                        $tr = $tr.next();\r\n                    }\r\n\r\n                    $tr.after($clone);\r\n\r\n                    for (var ij = 0; ij < rowSpan; ij++) {\r\n                        $clone.after('<tr/>');\r\n                    }\r\n\r\n                } else {\r\n                    $tr.after($clone);\r\n                }\r\n\r\n            } else {\r\n\r\n                $tr.find(\"td\").each(function (i) {\r\n\r\n                    var tdRowSpan = $(this).attr(\"rowspan\");\r\n\r\n                    if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n                        $(this).attr(\"rowspan\", parseInt(tdRowSpan) + 1);\r\n                        $clone.find(\"td\").eq(i).addClass(\"removeTd\");\r\n                    }\r\n\r\n                });\r\n\r\n\r\n                $clone.find(\"td.removeTd\").remove();\r\n\r\n                $tr.after($clone);\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        //么有合并不用处理\r\n        if (trtdLen == tbtdLen) {\r\n            return;\r\n        }\r\n\r\n        //DefectIndex 缺失行的索引 \r\n        $tr.prevUntil().each(function () {\r\n\r\n            $(this).find(\"td\").each(function () {\r\n\r\n                var $this = $(this);\r\n\r\n                var tdRowSpan = $this.attr(\"rowspan\");\r\n\r\n                //纯在合并行\r\n                if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n\r\n                    var tLeft = $this.offset().left,\r\n                        index = 0;\r\n\r\n                    $.each(TdPosi, function (i, item) {\r\n                        if (item.X == tLeft) {\r\n                            index = i;\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n                    var removeIndex = 0;\r\n                    //如果刚好是缺失的行 行加一  跳出\r\n                    for (var zp = 0; zp < DefectIndex.length; zp++) {\r\n                        if (index == DefectIndex[zp]) {\r\n                            $this.attr(\"rowspan\", parseInt(tdRowSpan) + 1);\r\n                            DefectIndex.splice(zp, 1);\r\n                            removeIndex = zp;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    var tdColSpan = $this.attr(\"colspan\");\r\n\r\n                    //如果缺失的行还有 colspan\r\n                    if (tdColSpan && parseInt(tdColSpan) > 1) {\r\n\r\n                        tdColSpan = parseInt(tdColSpan) - 1;\r\n\r\n                        for (var zpl = 0; zpl < tdColSpan; zpl++) {\r\n\r\n                            removeIndex += 1;\r\n\r\n                            DefectIndex.splice(removeIndex, 1);\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                //么有了跳出\r\n                if (DefectIndex.length <= 0) {\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n            if (DefectIndex.length <= 0) {\r\n                return false;\r\n            }\r\n\r\n        });\r\n    },\r\n\r\n    //插入最后\r\n    insertToLast($fieldItem) {\r\n\r\n        var $tr = $(\"<tr/>\"),\r\n            colspan = 0;\r\n\r\n        $fieldItem.find(\"table tr:first td\").each(function () {\r\n            \r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                colspan += parseInt(tdColspan);\r\n            } else {\r\n                colspan += 1;\r\n            }\r\n        });\r\n\r\n        for (var i = 0; i < colspan; i++) {\r\n            $tr.append('<td><div class=\"tdNull\"></div></td>');\r\n        }\r\n\r\n        $fieldItem.find(\"table\").append($tr);\r\n    },\r\n\r\n    /**********************************************************  添加行 end *******************************************************/\r\n\r\n    deleteTr($td){\r\n\r\n        if (!$td) {\r\n            return;\r\n        }\r\n         \r\n        var tdRowSpan = $td.attr(\"rowspan\"),\r\n            $trArr = [],\r\n            $tr = $td.parent();\r\n\r\n            $trArr.push($tr);\r\n\r\n        if(tdRowSpan && tdRowSpan > 1){\r\n            var row = +tdRowSpan;\r\n\r\n            for(var i=1;i<row;i++){\r\n                $trArr.push($trArr[i-1].next());\r\n            }\r\n        } \r\n\r\n        var delCount = $trArr.length;\r\n         \r\n        for(var j=0;j<delCount;j++){\r\n            this.commDeleteTr($trArr[j]);\r\n        } \r\n\r\n        return delCount;\r\n\r\n    },\r\n\r\n    //删除行\r\n    commDeleteTr($tr) { \r\n\r\n\r\n        //隐藏滚动条 以免添加行后出现 影响td位置计算\r\n        $(\"#desiContent\").css(\"overflow\", \"hidden\");\r\n\r\n        var $tb = $tr.closest(\".tbLayout\");\r\n\r\n        //插入后处理\r\n        var tbtdLen = 0,\r\n            trtdLen = 0;\r\n\r\n        //表格td 的 个数\r\n        $tb.find(\"tr:first td\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                tbtdLen += parseInt(tdColspan);\r\n            } else {\r\n                tbtdLen += 1;\r\n            }\r\n        });\r\n\r\n        var TdPosi = this.getTdPosi(tbtdLen, $tb),\r\n            DefectIndex = [],\r\n            tdCol = 0;\r\n\r\n        //当前tr td 的个数 如果一样 不需要处理 不一样 需要递归向上处理\r\n        $tr.find(\"td\").each(function (i) {\r\n\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n\r\n            var tLeft = $(this).offset().left;\r\n\r\n            if (tdColspan) {\r\n\r\n                trtdLen += parseInt(tdColspan);\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += parseInt(tdColspan);\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += parseInt(tdColspan);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n\r\n            } else {\r\n\r\n                trtdLen += 1;\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += 1;\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        //后门还有合并的行\r\n        if (tdCol < TdPosi.length) {\r\n            for (var de = tdCol; de < TdPosi.length; de++) {\r\n                DefectIndex.push(de);\r\n            }\r\n        }\r\n\r\n        //td 中不止一个元素\r\n        if ($tr.find(\"td\").length > 0) {\r\n\r\n            $tr.find(\"td\").each(function (i) {\r\n\r\n                //当前有合并的行需要处理\r\n                var $this = $(this),\r\n                    tdRowSpan = $this.attr(\"rowspan\");\r\n\r\n                //当前有合并想  合并的行需要移除\r\n                if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n\r\n                    var tLeft = $this.offset().left;\r\n\r\n                    var $cloneTd = $this.clone();\r\n                    $cloneTd.attr(\"rowspan\", parseInt(tdRowSpan) - 1);\r\n\r\n                    $tr.next().find(\"td\").each(function () {\r\n\r\n                        var tsLeft = $(this).offset().left;\r\n\r\n                        if (tsLeft > tLeft) {\r\n                            $(this).before($cloneTd);\r\n                            return false;\r\n                        }\r\n\r\n                    });\r\n\r\n                    $this.removeAttr(\"rowspan\");\r\n                }\r\n\r\n            });\r\n\r\n\r\n        } else {\r\n            // $tr.remove();\r\n        }\r\n\r\n\r\n        //么有合并不用处理\r\n        if (trtdLen == tbtdLen) {\r\n            $tr.remove();\r\n            $(\"#desiContent\").removeAttr(\"style\");\r\n            return;\r\n        }\r\n\r\n        var $diffRowTr = [];\r\n\r\n        //DefectIndex 缺失行的索引 \r\n        $tr.prevUntil().each(function () {\r\n\r\n            $(this).find(\"td\").each(function () {\r\n\r\n                var $this = $(this);\r\n\r\n                var tdRowSpan = $this.attr(\"rowspan\");\r\n\r\n                //纯在合并行\r\n                if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n\r\n                    var tLeft = $this.offset().left,\r\n                        index = 0;\r\n\r\n                    $.each(TdPosi, function (i, item) {\r\n                        if (item.X == tLeft) {\r\n                            index = i;\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n                    var removeIndex = 0;\r\n                    //如果刚好是缺失的行 行加一  跳出\r\n                    for (var zp = 0; zp < DefectIndex.length; zp++) {\r\n                        if (index == DefectIndex[zp]) {\r\n                            //$this.attr(\"rowspan\", parseInt(tdRowSpan) - 1); \r\n                            $diffRowTr.push($this);\r\n                            DefectIndex.splice(zp, 1);\r\n                            removeIndex = zp;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    var tdColSpan = $this.attr(\"colspan\");\r\n\r\n                    //如果缺失的行还有 colspan\r\n                    if (tdColSpan && parseInt(tdColSpan) > 1) {\r\n\r\n                        tdColSpan = parseInt(tdColSpan) - 1;\r\n\r\n                        for (var zpl = 0; zpl < tdColSpan; zpl++) {\r\n\r\n                            removeIndex += 1;\r\n\r\n                            DefectIndex.splice(removeIndex, 1);\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                //么有了跳出\r\n                if (DefectIndex.length <= 0) {\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n            if (DefectIndex.length <= 0) {\r\n                return false;\r\n            }\r\n\r\n        });\r\n\r\n        $.each($diffRowTr, function (i, $item) {\r\n            $item.attr(\"rowspan\", parseInt($item.attr(\"rowspan\")) - 1);\r\n        });\r\n\r\n        $tr.remove();\r\n        $(\"#desiContent\").removeAttr(\"style\");\r\n    },\r\n\r\n    /***********************************************************  行操作 end  ***************************************************************/\r\n\r\n\r\n    /***********************************************************  列操作 end  ***************************************************************/\r\n\r\n    insertTd($td) {\r\n\r\n        if (!$td) {\r\n            return;\r\n        }\r\n\r\n        //隐藏滚动条 以免添加行后出现 影响td位置计算\r\n        $(\"#desiContent\").css(\"overflow\", \"hidden\");\r\n\r\n        // 实现原理 先 追加到 最后，然后重新计算位置\r\n        var $tb = $td.closest(\".tbLayout\"),\r\n            newTdW = this.reDiffTdWidth($tb),\r\n            $newTd = $('<td/>');\r\n        //新的td\r\n        //td 有宽度\r\n        if (newTdW) {\r\n            $newTd.attr(\"width\", newTdW);\r\n        }\r\n        $newTd.append('<div class=\"default-ele\">&nbsp;</div>');\r\n        var tdStr = $('<div/>').append($newTd).html();\r\n\r\n\r\n        //追加到最后\r\n        $tb.find(\"tr\").each(function () {\r\n            $(this).append(tdStr);\r\n        });\r\n\r\n        //插入后处理\r\n        var tdOffset = $td.offset(),\r\n            tdLeft = tdOffset.left,\r\n            tdRigth = tdOffset.left + $td.width(),\r\n            breakCount = 0;\r\n\r\n\r\n        $tb.find(\"tr\").each(function () {\r\n\r\n            var $tTr = $(this);\r\n\r\n            //跳过  \r\n            if (breakCount > 0) {\r\n                $tTr.find(\"td:last\").remove();\r\n                breakCount--;\r\n                return true;\r\n            }\r\n\r\n\r\n\r\n            //遍历没有td 找到 相同位置上的元素\r\n            $tTr.find(\"td\").each(function () {\r\n\r\n                var $eTd = $(this),\r\n                    Eoffset = $eTd.offset();\r\n\r\n                //找到了\r\n                if (Eoffset.left <= tdLeft && Eoffset.left + $eTd.width() >= tdRigth) {\r\n\r\n                    var thisColspan = $eTd.attr(\"colspan\");\r\n\r\n                    if (thisColspan && thisColspan > 1) {\r\n\r\n                        var newColspan = parseInt(thisColspan) + 1,\r\n                            thisRowSpan = $eTd.attr(\"rowspan\");\r\n                        //合并单元格的行\r\n                        if (thisRowSpan && thisRowSpan > 1) {\r\n                            //减去当前 这一行\r\n                            breakCount = parseInt(thisRowSpan) - 1;\r\n                        }\r\n\r\n                        $eTd.attr(\"colspan\", newColspan);\r\n\r\n                    } else {\r\n                        $eTd.after(tdStr);\r\n                    }\r\n\r\n                    //移除最后一个 是我们自己添加的占位符\r\n                    $tTr.find(\"td:last\").remove();\r\n                    //下一行\r\n                    return false;\r\n                }\r\n\r\n            });\r\n        });\r\n\r\n        $(\"#desiContent\").removeAttr(\"style\");\r\n\r\n    },\r\n\r\n    //重新计算td的宽度\r\n    reDiffTdWidth($tb) {\r\n\r\n        var $fieldItem = $tb.closest(\".fieldItem\"),\r\n            isFixedW = $tb.find(\"tr td:first\").attr(\"width\");\r\n\r\n        if (isFixedW) {\r\n\r\n            var colspan = 0,\r\n                fwidth = $fieldItem.width(),\r\n                tbW = 0;\r\n\r\n            $fieldItem.find(\"table tr:first td\").each(function () {\r\n\r\n                var tdColspan = $(this).attr(\"colspan\");\r\n                tbW += $(this).width();\r\n\r\n                if (tdColspan) {\r\n                    colspan += parseInt(tdColspan);\r\n                } else {\r\n                    colspan += 1;\r\n                }\r\n            });\r\n\r\n            //添加一列后的宽度 默认 平分的宽度\r\n            var nW = Math.floor(fwidth / (colspan + 1));\r\n\r\n            //重新计算td 的宽度  按比例 减去 宽度\r\n            $fieldItem.find(\"table tr td\").each(function () {\r\n\r\n                var $this = $(this),\r\n\r\n                    tW = parseInt($this.attr(\"width\"));\r\n\r\n                tW -= (tW / tbW * nW);\r\n\r\n                tW = tW > 1 && tW || 1;\r\n\r\n                tW = Math.floor(tW);\r\n\r\n                $this.attr(\"width\", tW);\r\n\r\n            });\r\n\r\n            return nW;\r\n\r\n        }\r\n\r\n        //没有计算\r\n        return false;\r\n\r\n    },\r\n\r\n    //删除表格列\r\n    deleteTd($td) {\r\n\r\n        if (!$td || $td.closest(\"body\").length <=0) {\r\n            return;\r\n        } \r\n\r\n\r\n        //隐藏滚动条 以免添加行后出现 影响td位置计算\r\n        $(\"#desiContent\").css(\"overflow\", \"hidden\");\r\n\r\n        //实现思路 存在 合并单元格的 处理太复杂 所以 如果有存在合并的 就拆分掉 在 循环遍历处理  一次只删除一个单元格\r\n\r\n        var $tb = $td.closest(\".tbLayout\"),\r\n            tdColspan = $td.attr(\"colspan\"),\r\n            tdRowSpan = $td.attr(\"rowspan\"),\r\n            $tdArr = [];\r\n\r\n        //合并单元格的 td\r\n        if (tdColspan && tdColspan > 1 || tdRowSpan && tdRowSpan > 1) {\r\n\r\n            //拆分单元格\r\n            this.splitCell($td);\r\n            //动态加载出来的td个数\r\n            var count = parseInt(tdColspan);\r\n\r\n            if (count > 0) {\r\n                //所有需要删除的td\r\n                for (var i = 0; i < count; i++) {\r\n                    if ($tdArr.length > 0) {\r\n                        $tdArr.push($tdArr[i - 1].next());\r\n                    } else {\r\n                        $tdArr.push($td);\r\n                    }\r\n                }\r\n            } else {\r\n                $tdArr.push($td);\r\n            }\r\n\r\n        } else {\r\n            $tdArr.push($td);\r\n        }\r\n\r\n        var delCol = 0,\r\n            self = this;\r\n\r\n        $.each($tdArr, function () {\r\n\r\n            var $this = this,\r\n                removeOffset = $this.offset(),\r\n                rLeft = removeOffset.left,\r\n                tw = $this.width(),\r\n                rRight = removeOffset.left + tw,\r\n                //缓存td的操作 避免 即时操作 表格变形\r\n                cacheOpTds = [];\r\n\r\n            //保留一列 不让删除\r\n            if ($tb.find(\"tr:first td\").length <= 1) {\r\n                $tb.closest(\".fieldItem\").find(\".btnDelField\").click();\r\n                return false;\r\n            }\r\n\r\n            $tb.find(\"tr\").each(function () {\r\n\r\n                //遍历没有td 找到 相同位置上的元素\r\n                $(this).find(\"td\").each(function () {\r\n\r\n                    var $eTd = $(this),\r\n                        Eoffset = $eTd.offset();\r\n\r\n                    //找到了\r\n                    if (Eoffset.left <= rLeft && Eoffset.left + $eTd.width() >= rRight) {\r\n\r\n                        var thisColspan = $eTd.attr(\"colspan\");\r\n\r\n                        if (thisColspan && thisColspan > 1) {\r\n\r\n                            var newColspan = parseInt(thisColspan) - 1;\r\n\r\n                            cacheOpTds.push({\r\n                                $el: $eTd,\r\n                                type: \"colspan\",\r\n                                colSpan: newColspan\r\n                            });\r\n\r\n                        } else {\r\n                            cacheOpTds.push({\r\n                                $el: $eTd,\r\n                                type: \"remove\"\r\n                            });\r\n                        }\r\n                        //下一行\r\n                        return false;\r\n                    }\r\n\r\n                });\r\n\r\n            });\r\n\r\n            //进行真实的操作 没一列 进行一次操作\r\n            $.each(cacheOpTds, function () {\r\n                if (this.type == \"remove\") {\r\n                    //平均分列宽\r\n                    self.CellAverage(this.$el);\r\n                    this.$el.remove();\r\n                } else {\r\n\r\n                    //减去删除的宽度\r\n                    var newW = this.$el.width() - tw;\r\n                    this.$el.attr(\"colspan\", this.colSpan).attr(\"width\", newW);\r\n\r\n                }\r\n            });\r\n\r\n            delCol++;\r\n\r\n        });\r\n\r\n        var $txtCol = $(\"#controlAttrs .txtCol\");\r\n        $txtCol.val(parseInt($txtCol.val()) - delCol);\r\n\r\n        //清除滚动条\r\n        $(\"#desiContent\").removeAttr(\"style\");\r\n\r\n    },\r\n\r\n    //平均分移除td的宽度\r\n    CellAverage($td) {\r\n\r\n        var $tds = $td.siblings(),\r\n            nW = $td.width(),\r\n            tbW = $td.parent().width() - nW;\r\n\r\n        //重新计算td 的宽度  按比例 减去 宽度\r\n        $tds.each(function () {\r\n\r\n            var $this = $(this),\r\n\r\n                tW = parseInt($this.attr(\"width\"));\r\n\r\n            tW += (tW / tbW * nW);\r\n\r\n            tW = Math.floor(tW);\r\n\r\n            $this.attr(\"width\", tW);\r\n\r\n        });\r\n\r\n\r\n    },\r\n\r\n    //拆分单元格\r\n    splitCell($td) {\r\n\r\n        //td 总行数\r\n        var $tb = $td.closest('.tbLayout'),\r\n            tbtdLen = 0,\r\n            thisColspan = $td.attr(\"colspan\");\r\n\r\n        //表格td 的 个数\r\n        $tb.find(\"tr:first td\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                tbtdLen += parseInt(tdColspan);\r\n            } else {\r\n                tbtdLen += 1;\r\n            }\r\n        });\r\n\r\n        //每个td的位置\r\n        var TdPosi = this.getTdPosi(tbtdLen, $tb),\r\n            tdOffset = $td.offset(),\r\n            tdRowSpan = $td.attr(\"rowspan\"),\r\n            index = 0;\r\n\r\n        $.each(TdPosi, function (i, item) {\r\n            //找到了\r\n            if (item.X == tdOffset.left) {\r\n                index = i;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        var strTd = '',\r\n            firstTd = '<td width=\"' + TdPosi[index].W + '\"><div class=\"tdNull\">&nbsp;</div></td>',\r\n            firstW = TdPosi[index].W;\r\n\r\n        index++;\r\n\r\n        for (var j = 1; j < thisColspan; j++) {\r\n            strTd += '<td width=\"' + TdPosi[index].W + '\"><div class=\"tdNull\">&nbsp;</div></td>';\r\n            index++;\r\n        }\r\n\r\n        if (tdRowSpan > 1) {\r\n\r\n            //所有需要处理的tr\r\n            var $tr = $td.parent(),\r\n                $trArr = [];\r\n\r\n            for (var k = 1; k < tdRowSpan; k++) {\r\n\r\n                if ($trArr.length > 0) {\r\n                    $trArr.push($trArr[k - 2].next());\r\n                } else {\r\n                    $trArr.push($tr.next());\r\n                }\r\n            }\r\n\r\n            //反转 从最后一个开始处理\r\n            $trArr.reverse();\r\n\r\n            if (thisColspan == tbtdLen) {\r\n\r\n                $.each($trArr, function () {\r\n                    var $this = this,\r\n                        newRowspan = parseInt($td.attr(\"rowspan\")) - 1;\r\n                    $this.append(firstTd + strTd);\r\n                    $td.attr(\"rowspan\", newRowspan).removeAttr(\"height\");\r\n                });\r\n\r\n            } else {\r\n\r\n                $.each($trArr, function () {\r\n\r\n                    var $this = this;\r\n\r\n\r\n                    $this.find(\"td\").each(function () {\r\n\r\n                        var $ttd = $(this),\r\n                            nextLen = $ttd.next().length,\r\n                            isOffsetF = $ttd.offset().left > tdOffset.left;\r\n\r\n                        //找到 或者 最后 加到最后 因为合并单元格在最后\r\n                        if (isOffsetF || nextLen <= 0) {\r\n\r\n                            var newRowspan = parseInt($td.attr(\"rowspan\")) - 1;\r\n\r\n                            if (!isOffsetF) {\r\n                                $ttd.after(firstTd + strTd);\r\n                            } else {\r\n                                $ttd.before(firstTd + strTd);\r\n                            }\r\n\r\n                            $td.attr(\"rowspan\", newRowspan).removeAttr(\"height\");\r\n\r\n                            return false;\r\n                        }\r\n\r\n                    });\r\n\r\n                });\r\n            }\r\n\r\n            //当合并 列 大于一的时候 才对原始td进行colspan操作\r\n            if (thisColspan > 1) {\r\n                //原本的td处理\r\n                $td.after(strTd);\r\n                $td.attr(\"width\", firstW).attr(\"colspan\", 1);\r\n            }\r\n\r\n        } else {\r\n            $td.after(strTd);\r\n            $td.attr(\"width\", firstW).attr(\"colspan\", 1);\r\n        }\r\n\r\n\r\n    },\r\n\r\n}\r\n\r\nexport default TbOp;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/TbOp.js","\r\n\r\nimport PropsHtmlDef from \"../Js/PropsHtmlDef\"\r\n\r\nvar ContextMenu = {\r\n\r\n    init($el) {\r\n\r\n        var that = this;\r\n        //右键菜单\r\n        $el.on(\"contextmenu\", \".tbLayout\", function (event) {\r\n\r\n            that.insertContextMeun(event, $el);\r\n\r\n            return false;\r\n\r\n        });\r\n\r\n\r\n        $(\"body\").on(\"click.tbContentMeun\", function () {\r\n            $(\"#tbContextMenu\").remove();\r\n        });\r\n\r\n    },\r\n\r\n    //插入元素\r\n    insertContextMeun(event, $el) {\r\n\r\n        //移除上一个\r\n        $(\"#tbContextMenu\").remove();\r\n\r\n        var $contextMenu = $('<div id=\"tbContextMenu\" />');\r\n\r\n        $contextMenu.html(PropsHtmlDef.tb);\r\n\r\n        $contextMenu.find(\".btnNorMal\").addClass(\"ThemeBgCoolHover\");\r\n\r\n        $contextMenu.css({ top: event.pageY, left: event.pageX });\r\n\r\n        $(\"body\").append($contextMenu);\r\n\r\n        //每次都是新的所有要冲绑定书剑\r\n        this.initContextEvent($contextMenu, $el);\r\n\r\n    }, \r\n\r\n    //事件绑定\r\n    initContextEvent($contextMenu, $el) {\r\n\r\n        $contextMenu.on(\"click\", \".btnHandleTable\", function () {\r\n\r\n            var type = $(this).attr(\"type\");\r\n            //委托处理\r\n            $el.find(\".designProps .optItem .btnHandleTable[type='\" + type + \"']\").click();\r\n\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default ContextMenu;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/context.js","\r\n\r\nvar PropsHtmlDef = {\r\n\r\n    tb: '<div class=\"optItem\"><span type=\"mergeCell\" class=\"btnHandleTable btnNorMal\">合并单元格</span>' +\r\n        '<span type=\"splitCell\" class=\"btnHandleTable btnNorMal\">拆分单元格</span>' +\r\n        '<span type=\"addRow\" class=\"btnHandleTable addRow btnNorMal\">添加行</span>' +\r\n        '<span type=\"addColTable\" class=\"btnHandleTable addCol btnNorMal\">添加列</span>' +\r\n        '<span type=\"delRow\" class=\"btnHandleTable delRow btnNorMal show\">删除行</span>' +\r\n        '<span type=\"delColTable\" class=\"btnHandleTable delColTable btnNorMal show\">删除列</span></div>',\r\n\r\n    tbCount: '<div class=\"optItem\"><input class=\"txtShort txtRow\" type=\"text\"><span class=\"desc\">行</span>' +\r\n        '<span class=\"gap\">×</span><input type=\"text\" class=\"txtShort txtCol\"><span class=\"desc\">列</span>' +\r\n        '<span type=\"tbSet\" class=\"btnNorMal primary\">确定</span></div>',\r\n\r\n    //是否显示边框\r\n    border: '<div class=\"optItem\"> <label class=\"attrLab\"><input class=\"ckBorder\" type=\"checkbox\" />不显示线框</label></div>'\r\n}\r\n\r\nexport default PropsHtmlDef;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Js/PropsHtmlDef.js"],"sourceRoot":""}