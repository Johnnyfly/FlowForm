{"version":3,"sources":["webpack:///webpack/bootstrap 0b5a3647d3e1cfa262a2","webpack:///./src/Form/NavControls/Events/DropTo.js","webpack:///./src/Form/NavControls/Index.js","webpack:///./src/Form/Controls/Base/AttrHtml.js","webpack:///./src/Form/Controls/Base/Index.js","webpack:///./src/Form/Controls/LayOut/Table/Props/DefHtml.js","webpack:///./src/Form/Controls/LayOut/Table/Props/CellOp.js","webpack:///./src/Form/Controls/LayOut/Table/Props/Index.js","webpack:///./src/Form/Controls/LayOut/Table/Events/DropTo.js","webpack:///./src/Form/Controls/LayOut/Table/Events/Index.js","webpack:///./src/Form/Controls/LayOut/Table/Index.js","webpack:///./src/Form/Controls/LayOut/Index.js","webpack:///./src/Form/Controls/Basics/TextInput/Index.js","webpack:///./src/Form/Controls/Basics/Index.js","webpack:///./src/Form/Controls/Index.js","webpack:///./src/Form/Content/defTpl.js","webpack:///./src/Form/Content/Index.js","webpack:///./src/Form/Props/Index.js","webpack:///./src/Form/Index.js","webpack:///./src/Form/Css/reset.less","webpack:///./src/Form/NavControls/Css/Index.less","webpack:///./src/Form/Controls/LayOut/Table/Css/Index.less","webpack:///./src/Form/Js/autosize.js","webpack:///./src/Form/Controls/Basics/TextInput/Css/Index.less","webpack:///./src/Form/Content/Css/Index.less","webpack:///./src/Form/Props/Css/Index.less"],"names":["DropEvent","init","$el","callback","that","on","event","bindDropEvent","$","elX","pageX","elY","pageY","opts","$dropEl","clone","ElOffset","offset","diffX","left","diffY","top","type","attr","append","addClass","window","newX","newY","StyleObj","css","diffInsertPos","off","length","remove","removeClass","$desiContent","closest","parent","find","Offset","cT","cX","cH","height","cW","width","DH","insetElHtml","$fieldItem","isFind","each","$this","C_Offset","$insetEl","before","$prev","prev","after","$td","cY","isInTop","nextAll","index","next","eq","prepend","insertControl","Libs","AllControls","Control","render","$tb","tdArr","push","w","h","i","item","Comm","diffElementFixedW","DesignProps","$container","html","genTab","$$root","initEvent","$allControls","DropTo","insetControl","siblings","hide","end","show","InsControl","getControlByType","Settings","_controlHtml","renderProps","Options","Controls","defaultTab","$controlTab","key","metaInfo","title","genControl","className","$controlBox","$cItem","$text","$icon","iconClass","text","name","AttrHtml","hideTitle","placeHolder","required","layout","BaseControl","genGroup","groupItem","$groupItem","genTitle","$title","genHideTitle","$hideTitle","genplaceHolder","$placeHolder","colRow","tbSet","CellOp","rowColSpan","colspan","rowSpan","$tr","$trs","tdColspan","parseInt","aSpanRow","tdRowSpan","$firstTd","getTdPosi","tbtdLen","_tr","j","$firstTr","TdsWidth","X","W","insertTr","trtdLen","TdPosi","DefectIndex","tdCol","tLeft","c","de","$clone","isHasRowSpan","ix","ij","prevUntil","removeIndex","zp","splice","tdColSpan","zpl","insertToLast","deleteTr","$trArr","row","delCount","commDeleteTr","$cloneTd","tsLeft","removeAttr","$diffRowTr","$item","insertTd","newTdW","reDiffTdWidth","$newTd","tdStr","tdOffset","tdLeft","tdRigth","breakCount","$tTr","$eTd","Eoffset","thisColspan","newColspan","thisRowSpan","isFixedW","fwidth","tbW","nW","Math","floor","tW","deleteTd","$tdArr","splitCell","count","delCol","self","removeOffset","rLeft","tw","rRight","cacheOpTds","click","colSpan","CellAverage","newW","$txtCol","val","$tds","strTd","firstTd","firstW","k","reverse","newRowspan","$ttd","nextLen","isOffsetF","Props","setColRow","$colRow","DefHtml","col","newRow","newCol","$oldFieldItem","$newEl","op","hasClass","$tbSet","tdCellWidth","tdMoveChangeCellWidth","bindSelectionTdEvent","initX","initY","$table","eOffset","eW","isFirst","isLast","data","tdW","sourceX","ewdirc","sourceW","diffTdW","nextW","elW","prevW","initPoint","$selectionBox","styleObj","abs","diffSelectionTd","one","newRight","newBottom","Events","TableControl","PrivateProps","defaultData","rowLen","cellLen","rows","head","cell","tCell","childrens","cells","id","Date","layOut","tbody","thead","arguments","deData","apply","Object","create","renderCell","autosize","mode","PrivateEvents","rowItem","cellItem","l","childItem","headRows","tRowItem","$setProps","empty","$group","call","destroy","setPrototypeOf","LayOut","addControl","control","TextInput","placeHolderText","values","attrs","maxLen","minLen","$setPlaceHolderBox","$txtInput","style","parse","Basics","Tpl","toDo","DesiContent","defTpl","PropsDesign","Opts","$attrItem","CommPropsDef","PropsHtmlDef","FormDesi","params","defaults","extend","NavControls","DesiProps","prototype","el","global","factory","define","exports","module","mod","map","Map","keys","has","indexOf","get","set","value","delete","_delete","createEvent","Event","bubbles","e","evt","document","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","getComputedStyle","resize","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","update","changeOverflow","offsetWidth","overflowY","getParentOverflows","arr","parentNode","Element","scrollTop","node","scrollHeight","overflows","docTop","documentElement","minHeight","forEach","styleHeight","round","computed","actualHeight","offsetHeight","dispatchEvent","err","pageResize","removeEventListener","bind","overflowX","wordWrap","addEventListener","methods","options","Array","x","default"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0b5a3647d3e1cfa262a2"," \r\n\r\nvar DropEvent = {\r\n\r\n    //初始化绑定\r\n    init($el,callback) {\r\n\r\n        var that = this;\r\n\r\n        //拖拽控件放入\r\n        $el.on(\"mousedown\", \".ControlBox .cItem\", function (event) {\r\n            that.bindDropEvent({\r\n                callback:callback, \r\n                $el: $(this),\r\n                elX: event.pageX,\r\n                elY: event.pageY\r\n            });\r\n        });\r\n\r\n\r\n    },\r\n\r\n    //拖拽事件绑定\r\n    bindDropEvent: function (opts) {\r\n\r\n        var $dropEl = opts.$el.clone(false, false),\r\n            ElOffset = opts.$el.offset(),\r\n            diffX = opts.elX - ElOffset.left,\r\n            diffY = opts.elY - ElOffset.top,\r\n            that = this,\r\n            type = $dropEl.attr(\"type\");\r\n\r\n        $dropEl.attr(\"id\", \"dropEl\");\r\n\r\n        $(\"body\").append($dropEl);\r\n\r\n        $(\"body\").addClass(\"noSelected\");\r\n\r\n        $(window).on(\"mousemove.moveInput\", function (event) {\r\n\r\n            var newX = event.pageX,\r\n                newY = event.pageY,\r\n                StyleObj = {\r\n                    $el: opts.$el,\r\n                    left: newX - diffX,\r\n                    top: newY - diffY,\r\n                    type: type\r\n                };\r\n\r\n            if (newX == opts.elX && newY == opts.elY) {\r\n                return;\r\n            }\r\n\r\n            $dropEl.css(StyleObj);\r\n\r\n            //计算插入的位置\r\n            that.diffInsertPos(StyleObj);\r\n\r\n            return false;\r\n\r\n        });\r\n\r\n        $(window).on(\"mouseup.moveInput\", function () {\r\n\r\n            $(window).off(\"mousemove.moveInput\");\r\n\r\n            $(window).off(\"mouseup.moveInput\"); \r\n\r\n            if($(\"#insetEl\").length > 0 ){\r\n                opts.callback &&  opts.callback(type);\r\n            } \r\n\r\n            $dropEl.remove();\r\n\r\n            $(\"body\").removeClass(\"noSelected\");\r\n\r\n        });\r\n\r\n    },\r\n\r\n\r\n    //计算插入的位置\r\n    diffInsertPos: function (StyleObj) {\r\n\r\n        var $desiContent = StyleObj.$el.closest(\".allControls\").parent().find(\".fromDesign\"),\r\n            Offset = $desiContent.offset(),\r\n            cT = Offset.top,\r\n            cX = Offset.left,\r\n            cH = $desiContent.height(),\r\n            cW = $desiContent.width(),\r\n            DH = $(\"#dropEl\").height(),\r\n            that = this,\r\n            insetElHtml = '<div class=\"fieldItem\"  id=\"insetEl\"/>';\r\n\r\n\r\n        //在 中间\r\n        if (StyleObj.top + DH > cT && StyleObj.top < cT + cH && StyleObj.left > cX && StyleObj.left < cX + cW) {\r\n\r\n            var $fieldItem = $desiContent.find(\".fieldItem\");\r\n\r\n            //空 没有元素\r\n            if ($fieldItem.length <= 0) {\r\n\r\n                if ($(\"#insetEl\").length <= 0) {\r\n                    $desiContent.append(insetElHtml);\r\n                }\r\n\r\n            } else {\r\n\r\n                var isFind = false;\r\n                //上面下面\r\n                $fieldItem.each(function () {\r\n\r\n                    if ($(this).closest(\"td\").length > 0 && $(this).attr(\"type\") != \"TextInput\") {\r\n                        return true;\r\n                    }\r\n\r\n                    var $this = $(this),\r\n                        C_Offset = $this.offset(),\r\n                        cT = C_Offset.top,\r\n                        cH = $this.height(),\r\n                        $insetEl = $(\"#insetEl\");\r\n\r\n\r\n                    if (StyleObj.top < cT && StyleObj.top + DH > cT) {\r\n                        isFind = true;\r\n                        if ($insetEl.length <= 0) {\r\n                            $this.before(insetElHtml);\r\n                        } else {\r\n                            $this.before($insetEl);\r\n                        }\r\n                        return false;\r\n                    }\r\n\r\n\r\n                    //在该元素内\r\n                    if (StyleObj.top > cT && StyleObj.top < cT + cH) {\r\n\r\n                        isFind = true;\r\n\r\n                        if ($this.attr(\"id\") == \"insetEl\") {\r\n                            return false;\r\n                        }\r\n\r\n                        //表格\r\n                        if ($this.find(\"table\").length > 0 && StyleObj.type != \"Table\" && StyleObj.type != \"DataTable\") {\r\n\r\n                            var $prev = $this.prev();\r\n\r\n                            if ($prev.length > 0) {\r\n\r\n                                var type = $prev.attr(\"type\");\r\n                                if (type = \"Table\" || type == \"DataTable\") {\r\n                                    cT += 10;\r\n                                }\r\n                            }\r\n\r\n                            //底部了\r\n                            if (DH + StyleObj.top > cT + cH) {\r\n                                if ($insetEl.length <= 0) {\r\n                                    $this.after(insetElHtml);\r\n                                } else {\r\n                                    $this.after($insetEl);\r\n                                }\r\n                                return false;\r\n                            }\r\n\r\n\r\n                            $this.find(\"td\").each(function () {\r\n\r\n                                var $td = $(this),\r\n                                    cX = $td.offset().left,\r\n                                    cY = $td.offset().top,\r\n                                    cW = $td.width(),\r\n                                    cH = $td.height(),\r\n                                    isInTop = cX < StyleObj.left && cX + cW > StyleObj.left || cX > StyleObj.left && cX < StyleObj.left + StyleObj.width;\r\n\r\n                                if ($td.find(\".fieldItem\").length > 1) {\r\n                                    $td.find(\".fieldItem:first\").nextAll().remove();\r\n                                }\r\n\r\n                                if (!isInTop || $td.find(\".fieldItem\").length > 0 && $td.find(\".fieldItem\").attr(\"type\") != \"TextInput\") {\r\n                                    return true;\r\n                                }\r\n\r\n                                if (cY < StyleObj.top && cY + cH > StyleObj.top || cY > StyleObj.top && cY < StyleObj.top + StyleObj.height) {\r\n\r\n                                    //数据表格\r\n                                    if ($this.attr(\"type\") == \"DataTable\") {\r\n                                        if ($td.parent().index() == 0) {\r\n                                            var index = $td.index();\r\n                                            $td = $td.parent().next().find(\"td\").eq(index);\r\n                                        }\r\n                                    }\r\n\r\n                                    if ($td.find(\".fieldItem\").length > 0 && $td.find(\".fieldItem.textInput\").length <= 0) {\r\n                                        return true;\r\n                                    }\r\n\r\n                                    if ($insetEl.length <= 0) {\r\n                                        $td.prepend(insetElHtml);\r\n                                    } else {\r\n                                        $td.prepend($insetEl);\r\n                                    }\r\n\r\n                                    return false;\r\n\r\n                                }\r\n\r\n                            });\r\n\r\n                            return false;\r\n                        }\r\n\r\n                        //下部分\r\n                        if (StyleObj.top > (cT + cH / 2)) {\r\n\r\n                            if ($insetEl.length <= 0) {\r\n                                $this.after(insetElHtml);\r\n                            } else {\r\n                                $this.after($insetEl);\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            if ($insetEl.length <= 0) {\r\n                                $this.before(insetElHtml);\r\n                            } else {\r\n                                $this.before($insetEl);\r\n                            }\r\n\r\n                        }\r\n\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n                if (!isFind) {\r\n\r\n                    if ($(\"#insetEl\").length <= 0) {\r\n                        $desiContent.append(insetElHtml);\r\n                    } else {\r\n                        $desiContent.find(\".fieldItem:last\").after($(\"#insetEl\"));\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            $(\"#insetEl\").remove();\r\n        }\r\n\r\n    },\r\n\r\n    //放入控件\r\n    insertControl(type, callback) {\r\n\r\n        var $insetEl = $(\"#insetEl\");\r\n        //可以插入\r\n        if ($insetEl.length > 0) {\r\n\r\n            if (!Libs.AllControls[type]) {\r\n                return;\r\n            }\r\n\r\n            var Control = Libs.AllControls[type],\r\n                $el = Control.render();\r\n\r\n\r\n            if ($insetEl.closest(\"tr\").length <= 0) {\r\n\r\n                $insetEl.after($el);\r\n\r\n            } else {\r\n\r\n                var $td = $insetEl.closest(\"td\"),\r\n                    $tb = $td.closest(\"table\");\r\n\r\n                $insetEl.remove();\r\n\r\n                if (type == \"Table\" || type == \"DataTable\") {\r\n                    $dropEl.remove();\r\n                    return;\r\n                }\r\n\r\n                //默认输入\r\n                if ($td.find(\".fieldItem.textInput\").length >= 1) {\r\n                    $td.find(\".fieldItem\").remove();\r\n                }\r\n\r\n                if ($td.find(\".fieldItem\").length > 0) {\r\n                    $dropEl.remove();\r\n                    return;\r\n                }\r\n\r\n\r\n                //没有width\r\n                if (!$td.attr(\"width\")) {\r\n                    //设置宽度\r\n                    $tb.find(\"tr td\").each(function () {\r\n                        var $this = $(this);\r\n                        $this.attr(\"width\", $this.width()).attr(\"height\", $this.height());\r\n                    });\r\n                }\r\n\r\n\r\n                var tdArr = [];\r\n\r\n                $td.closest(\".tbLayout\").find(\"td\").each(function () {\r\n                    var $this = $(this);\r\n                    tdArr.push({\r\n                        $el: $this,\r\n                        w: $this.width(),\r\n                        h: $this.height()\r\n                    });\r\n                });\r\n\r\n                $.each(tdArr, function (i, item) {\r\n                    item.$el.attr(\"width\", item.w).attr(\"height\", item.h);\r\n                });\r\n\r\n\r\n                //计算浮动宽度\r\n                Comm.diffElementFixedW($el, $td.width());\r\n\r\n                if ($td.closest(\".fieldItem\").attr(\"type\") == \"DataTable\") {\r\n                    $el.addClass(\"hideTitle\");\r\n                }\r\n\r\n                $td.append($el);\r\n\r\n                $td.find('.default-ele').remove();\r\n            }\r\n\r\n\r\n            $insetEl.remove();\r\n\r\n            $(\"#desiContent .fieldItem.selected\").removeClass(\"selected\");\r\n\r\n            $el.addClass(\"selected\");\r\n\r\n            DesignProps.render({ type, $el: $container });\r\n\r\n\r\n        }\r\n\r\n    },\r\n\r\n}\r\n\r\n\r\nexport default DropEvent;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/NavControls/Events/DropTo.js","\r\nimport \"./Css/Index.less\";\r\n\r\nimport DropTo from \"./Events/DropTo.js\"\r\n\r\nvar Libs = {\r\n\r\n    init() {\r\n        this.render();\r\n    },\r\n\r\n    render() {\r\n\r\n        var html = this.genTab();\r\n\r\n        //生成页面\r\n        this.$$root.$el.prepend(html);\r\n\r\n        //事件初始化\r\n        this.initEvent();\r\n\r\n    },\r\n\r\n    //事件初始化\r\n    initEvent() {\r\n\r\n        var $allControls = this.$$root.find(\".allControls\");\r\n\r\n        //拖拽\r\n        DropTo.init($allControls, (type) => {\r\n            this.insetControl(type);\r\n        });\r\n\r\n        //切换\r\n        $allControls.on(\"click\", \".tabControl .item\", function () {\r\n\r\n            var $this = $(this),\r\n                type = $this.attr(\"type\");\r\n\r\n            $this.addClass(\"ThemeBorderColorLightSelected\").siblings().removeClass(\"ThemeBorderColorLightSelected\");\r\n\r\n            $allControls.find(\".ControlBox\").hide().end().find(\".\" + type + \"ControlBox\").show();\r\n\r\n        });\r\n    },\r\n\r\n    //控件插入\r\n    insetControl(type) {\r\n\r\n        var $$root = this.$$root,\r\n            InsControl = $$root.AllControls.getControlByType(type);\r\n\r\n        if (InsControl) {\r\n            //插入元素 移除 红框\r\n            var $insetEl =  $$root.Settings.$el.find(\"#insetEl\");\r\n            InsControl.$$root = $$root;\r\n            \r\n            var _controlHtml = InsControl.render(); \r\n            _controlHtml.addClass(\"selected\");\r\n            $insetEl.after(_controlHtml);\r\n\r\n            //渲染属性\r\n            InsControl.renderProps();\r\n\r\n            $insetEl.remove();\r\n        }\r\n\r\n    },\r\n\r\n    //切换控件\r\n    genTab(Options) {\r\n\r\n\r\n        var AllControls = this.$$root.AllControls.Controls,\r\n            defaultTab = this.$$root.Settings.defaultTab || \"LayOut\",\r\n            $allControls = $('<div class=\"allControls\"/>'),\r\n            $controlTab = $('<ul class=\"tabControl\" />');\r\n\r\n        for (var key in AllControls) {\r\n            $controlTab.append('<li type=\"' + key + '\" class=\"item\">' + AllControls[key].metaInfo.title + '</li>');\r\n            $allControls.append(this.genControl(key, AllControls[key].Controls));\r\n        }\r\n\r\n        $allControls.prepend($controlTab);\r\n\r\n        //默认选中第一个\r\n        $allControls.find(\".\" + defaultTab + \"ControlBox\").show();\r\n        $allControls.find(\".tabControl .item[type=\" + defaultTab + \"]\").addClass(\"ThemeBorderColorLightSelected\");\r\n\r\n        return $allControls;\r\n    },\r\n\r\n    //渲染控件\r\n    genControl(type, Controls) {\r\n\r\n        var className = type + \"ControlBox\",\r\n            $controlBox = $('<div class=\"ControlBox\" />');\r\n\r\n        $controlBox.addClass(className);\r\n\r\n        $.each(Controls, function (i, item) {\r\n\r\n            var $cItem = $('<div class=\"cItem ThemeBgCoolHover ThemeBorderColorLightHover\" />'),\r\n                $text = $('<span class=\"text\"/>'),\r\n                $icon = $('<i class=\"iconComm zppiconfont\"/>'),\r\n                title = item.metaInfo.title || \"拖拽至页面中间\",\r\n                iconClass = item.metaInfo.iconClass || \"iconNull\";\r\n\r\n\r\n            $cItem.attr(\"type\", item.metaInfo.type);\r\n            $cItem.attr(\"title\", title);\r\n\r\n            $text.text(item.metaInfo.name);\r\n            $icon.addClass(iconClass);\r\n\r\n            $cItem.append($text);\r\n            $cItem.append($icon);\r\n\r\n            $controlBox.append($cItem);\r\n\r\n        });\r\n\r\n        return $controlBox;\r\n    }\r\n}\r\n\r\nexport default Libs;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/NavControls/Index.js","\r\n\r\nvar AttrHtml = {\r\n\r\n    //标题\r\n    title: '<div class=\"optItem\"><input maxlength=\"50\" type=\"text\" class=\"txtTitle\" /></div>',\r\n\r\n    //隐藏标题\r\n    hideTitle: '<div class=\"optItem\"><label class=\"attrLab\"><input class=\"ckHideBox\" type=\"checkbox\"> 隐藏标题 </label></div>',\r\n\r\n    //输入提示\r\n    placeHolder: '<div class=\"optItem\"><input type=\"text\" class=\"txtPlaceHolder\"></div>',\r\n\r\n    //是否必填\r\n    required: '<div class=\"optItem\"><label class=\"attrLab\"><input class=\"ckBox\" type=\"checkbox\"> 这个是必填项目 </label></div>',\r\n\r\n    layout: '<div class=\"optItem\"><label class=\"attrLab\"><input name=\"setRowCol\" checked=\"true\" class=\"ckLayOut\" key=\"row\" type=\"radio\"> 横向 </label>' +\r\n        '<label class=\"attrLab\"><input key=\"col\" name=\"setRowCol\" class=\"ckLayOut\" type=\"radio\"> 纵向 </label></div>',\r\n\r\n   \r\n}\r\n\r\nexport default AttrHtml;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Base/AttrHtml.js","\r\nimport AttrHtml from \"./AttrHtml\"\r\n\r\nvar BaseControl = {\r\n\r\n    //生成分组\r\n    genGroup(groupItem) {\r\n\r\n        var $groupItem = $('<div class=\"attrItem\" />');\r\n\r\n        if (groupItem.className) {\r\n            $groupItem.addClass(groupItem.className);\r\n        }\r\n\r\n        if (groupItem.title) {\r\n            $groupItem.append('<div class=\"attrTitle\">' + groupItem.title + '</div>');\r\n        }\r\n\r\n        return $groupItem;\r\n    },\r\n\r\n    //生成title\r\n    genTitle() {\r\n\r\n        //html\r\n        var $title = $(AttrHtml.title);\r\n\r\n        //事件\r\n        $title.on(\"keyup\", function () {\r\n\r\n        });\r\n\r\n        return $title;\r\n    },\r\n\r\n    //生成隐藏标题\r\n    genHideTitle() {\r\n\r\n        var $hideTitle = $(AttrHtml.hideTitle);\r\n\r\n        //事件\r\n        $hideTitle.on(\"keyup\", function () {\r\n\r\n        });\r\n\r\n        return $hideTitle;\r\n    },\r\n\r\n    //生成输入框提示\r\n    genplaceHolder() {\r\n\r\n        var $placeHolder = $(AttrHtml.placeHolder);\r\n\r\n        //事件\r\n        $placeHolder.on(\"keyup\", function () {\r\n\r\n        });\r\n\r\n        return $placeHolder;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default BaseControl;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Base/Index.js","\r\n\r\nvar AttrHtml = { \r\n\r\n    colRow:'<div class=\"optItem\"><input class=\"txtShort txtRow\" type=\"text\"><span class=\"desc\">行</span>' +\r\n    '<span class=\"gap\">×</span><input type=\"text\" class=\"txtShort txtCol\"><span class=\"desc\">列</span>' +\r\n    '<span type=\"tbSet\" class=\"btnNorMal ThemeBorderColorLightHover ThemeColorLightHover btnSet\">设定</span>'+\r\n    '<span type=\"tbSet\" op=\"reset\" class=\"btnNorMal ThemeBorderColorLightHover ThemeColorLightHover btnSet\">重置</span></div>',\r\n\r\n    tbSet: '<div class=\"optItem\"><span type=\"rowcolspan\" class=\"btnHandleMal btnNorMal ThemeBorderColorLightHover ThemeColorLightHover\">合并单元格</span>'+\r\n    '<span type=\"splitCell\" class=\"btnHandleMal btnNorMal ThemeBorderColorLightHover ThemeColorLightHover\">拆分单元格</span>'+\r\n    '<span type=\"addRow\" class=\"btnHandleMal addRow btnNorMal ThemeBorderColorLightHover ThemeColorLightHover\">添加行</span>'+\r\n    '<span type=\"addColTable\" class=\"btnHandleMal addCol btnNorMal ThemeBorderColorLightHover ThemeColorLightHover\">添加列</span>'+\r\n    '<span type=\"delRow\" class=\"btnHandleMal delRow btnNorMal ThemeBorderColorLightHover ThemeColorLightHover\">删除行</span>'+\r\n    '<span type=\"delColTable\" class=\"btnHandleMal delColTable btnNorMal ThemeBorderColorLightHover ThemeColorLightHover\">删除列</span></div>',    \r\n   \r\n}\r\n\r\nexport default AttrHtml;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Props/DefHtml.js","var CellOp = {\r\n\r\n    //合并行\r\n    rowColSpan: function ($tb) {\r\n\r\n        if ($tb.find(\"td.active\").length <= 1) {\r\n            return;\r\n        }\r\n\r\n        var colspan = 0,\r\n            rowSpan = 0,\r\n            $tr = $tb.find(\"td.active:first\").closest(\"tr\"),\r\n            $trs = $tb.find(\"td.active\").closest(\"tr\")\r\n\r\n\r\n        $tr.find(\"td.active\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                colspan += parseInt(tdColspan);\r\n            } else {\r\n                colspan += 1;\r\n            }\r\n        });\r\n\r\n        var aSpanRow = 0\r\n        $trs.each(function () {\r\n            var tdRowSpan = $(this).find(\"td.active:first\").attr(\"rowspan\");\r\n            if (tdRowSpan && $(this).next().find(\"td.active\").length <= 0) {\r\n                rowSpan += parseInt(tdRowSpan);\r\n            } else {\r\n                rowSpan += 1;\r\n            }\r\n        });\r\n        //合并行 两行合并 只合并了前两列 会多出一行 因为遍历的是tr所以需要去掉\r\n        rowSpan -= aSpanRow;\r\n\r\n        var $firstTd = $tb.find(\"td.active:first\");\r\n\r\n        $firstTd.attr(\"rowspan\", rowSpan).attr(\"colspan\", colspan).removeClass(\"active\");\r\n\r\n        $tb.find(\"td.active\").remove();\r\n\r\n\r\n        //Comm.diffElementFixedW($fieldItem); \r\n\r\n    },\r\n\r\n    /**********************************************************  添加行 *******************************************************/\r\n    //获取td 的位置\r\n    getTdPosi(tbtdLen, $tb) {\r\n\r\n        var _tr = '<tr>';\r\n\r\n        for (var j = 0; j < tbtdLen; j++) {\r\n            _tr += '<td></td>';\r\n        }\r\n        _tr += '</tr>';\r\n\r\n        $tb.prepend(_tr);\r\n\r\n        var $firstTr = $tb.find(\"tr:first\"),\r\n            TdsWidth = [];\r\n\r\n        $firstTr.find(\"td\").each(function (i) {\r\n\r\n            var $this = $(this);\r\n\r\n            TdsWidth.push({\r\n                $td: $this,\r\n                X: $this.offset().left,\r\n                W: $this.width()\r\n            });\r\n\r\n        });\r\n\r\n        $firstTr.remove();\r\n\r\n        return TdsWidth;\r\n    },\r\n\r\n    //插入tr\r\n    insertTr($tr) {\r\n\r\n        if (!$tr) {\r\n            return;\r\n        }\r\n\r\n\r\n        var $tb = $tr.closest(\".tbLayout\");\r\n\r\n        //插入后处理\r\n        var tbtdLen = 0,\r\n            trtdLen = 0;\r\n\r\n        //表格td 的 个数\r\n        $tb.find(\"tr:first td\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                tbtdLen += parseInt(tdColspan);\r\n            } else {\r\n                tbtdLen += 1;\r\n            }\r\n        });\r\n\r\n        //每个td的位置\r\n        var TdPosi = this.getTdPosi(tbtdLen, $tb),\r\n            DefectIndex = [],\r\n            tdCol = 0;\r\n\r\n        //当前tr td 的个数 如果一样 不需要处理 不一样 需要递归向上处理\r\n        $tr.find(\"td\").each(function (i) {\r\n\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n\r\n            var tLeft = $(this).offset().left;\r\n\r\n            if (tdColspan) {\r\n\r\n                trtdLen += parseInt(tdColspan);\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += parseInt(tdColspan);\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += parseInt(tdColspan);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n\r\n            } else {\r\n\r\n                trtdLen += 1;\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += 1;\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n        if (tdCol < TdPosi.length) {\r\n            for (var de = tdCol; de < TdPosi.length; de++) {\r\n                DefectIndex.push(de);\r\n            }\r\n        }\r\n\r\n\r\n        //清除数据\r\n        var $clone = $tr.clone(false, false).find(\"td\").html('<div class=\"tdNull\"></div>').parent(),\r\n            isHasRowSpan = false;\r\n\r\n        if ($clone.find(\"td\").length != 1) {\r\n\r\n            $clone.find(\"td\").each(function () {\r\n                if ($(this).attr(\"rowspan\")) {\r\n                    isHasRowSpan = true;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n\r\n        //td 中不止一个元素\r\n        if ($tr.find(\"td\").length > 0) {\r\n\r\n            if (trtdLen == tbtdLen && !isHasRowSpan) {\r\n\r\n                var rowSpan = $tr.find(\"td:first\").attr(\"rowspan\");\r\n\r\n                if (rowSpan) {\r\n\r\n                    rowSpan = parseInt(rowSpan) - 1;\r\n\r\n                    for (var ix = 0; ix < rowSpan; ix++) {\r\n                        $tr = $tr.next();\r\n                    }\r\n\r\n                    $tr.after($clone);\r\n\r\n                    for (var ij = 0; ij < rowSpan; ij++) {\r\n                        $clone.after('<tr/>');\r\n                    }\r\n\r\n                } else {\r\n                    $tr.after($clone);\r\n                }\r\n\r\n            } else {\r\n\r\n                $tr.find(\"td\").each(function (i) {\r\n\r\n                    var tdRowSpan = $(this).attr(\"rowspan\");\r\n\r\n                    if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n                        $(this).attr(\"rowspan\", parseInt(tdRowSpan) + 1);\r\n                        $clone.find(\"td\").eq(i).addClass(\"removeTd\");\r\n                    }\r\n\r\n                });\r\n\r\n\r\n                $clone.find(\"td.removeTd\").remove();\r\n\r\n                $tr.after($clone);\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        //么有合并不用处理\r\n        if (trtdLen == tbtdLen) {\r\n            return;\r\n        }\r\n\r\n        //DefectIndex 缺失行的索引 \r\n        $tr.prevUntil().each(function () {\r\n\r\n            $(this).find(\"td\").each(function () {\r\n\r\n                var $this = $(this);\r\n\r\n                var tdRowSpan = $this.attr(\"rowspan\");\r\n\r\n                //纯在合并行\r\n                if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n\r\n                    var tLeft = $this.offset().left,\r\n                        index = 0;\r\n\r\n                    $.each(TdPosi, function (i, item) {\r\n                        if (item.X == tLeft) {\r\n                            index = i;\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n                    var removeIndex = 0;\r\n                    //如果刚好是缺失的行 行加一  跳出\r\n                    for (var zp = 0; zp < DefectIndex.length; zp++) {\r\n                        if (index == DefectIndex[zp]) {\r\n                            $this.attr(\"rowspan\", parseInt(tdRowSpan) + 1);\r\n                            DefectIndex.splice(zp, 1);\r\n                            removeIndex = zp;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    var tdColSpan = $this.attr(\"colspan\");\r\n\r\n                    //如果缺失的行还有 colspan\r\n                    if (tdColSpan && parseInt(tdColSpan) > 1) {\r\n\r\n                        tdColSpan = parseInt(tdColSpan) - 1;\r\n\r\n                        for (var zpl = 0; zpl < tdColSpan; zpl++) {\r\n\r\n                            removeIndex += 1;\r\n\r\n                            DefectIndex.splice(removeIndex, 1);\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                //么有了跳出\r\n                if (DefectIndex.length <= 0) {\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n            if (DefectIndex.length <= 0) {\r\n                return false;\r\n            }\r\n\r\n        });\r\n    },\r\n\r\n    //插入最后\r\n    insertToLast($fieldItem) {\r\n\r\n        var $tr = $(\"<tr/>\"),\r\n            colspan = 0;\r\n\r\n        $fieldItem.find(\"table tr:first td\").each(function () {\r\n\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                colspan += parseInt(tdColspan);\r\n            } else {\r\n                colspan += 1;\r\n            }\r\n        });\r\n\r\n        for (var i = 0; i < colspan; i++) {\r\n            $tr.append('<td><div class=\"tdNull\"></div></td>');\r\n        }\r\n\r\n        $fieldItem.find(\"table\").append($tr);\r\n    },\r\n\r\n    /**********************************************************  添加行 end *******************************************************/\r\n\r\n    deleteTr($td) {\r\n\r\n        if (!$td) {\r\n            return;\r\n        }\r\n\r\n        var tdRowSpan = $td.attr(\"rowspan\"),\r\n            $trArr = [],\r\n            $tr = $td.parent();\r\n\r\n        $trArr.push($tr);\r\n\r\n        if (tdRowSpan && tdRowSpan > 1) {\r\n            var row = +tdRowSpan;\r\n\r\n            for (var i = 1; i < row; i++) {\r\n                $trArr.push($trArr[i - 1].next());\r\n            }\r\n        }\r\n\r\n        var delCount = $trArr.length;\r\n\r\n        for (var j = 0; j < delCount; j++) {\r\n            this.commDeleteTr($trArr[j]);\r\n        }\r\n\r\n        return delCount;\r\n\r\n    },\r\n\r\n    //删除行\r\n    commDeleteTr($tr) {\r\n\r\n\r\n        //隐藏滚动条 以免添加行后出现 影响td位置计算\r\n        $(\"#desiContent\").css(\"overflow\", \"hidden\");\r\n\r\n        var $tb = $tr.closest(\".tbLayout\");\r\n\r\n        //插入后处理\r\n        var tbtdLen = 0,\r\n            trtdLen = 0;\r\n\r\n        //表格td 的 个数\r\n        $tb.find(\"tr:first td\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                tbtdLen += parseInt(tdColspan);\r\n            } else {\r\n                tbtdLen += 1;\r\n            }\r\n        });\r\n\r\n        var TdPosi = this.getTdPosi(tbtdLen, $tb),\r\n            DefectIndex = [],\r\n            tdCol = 0;\r\n\r\n        //当前tr td 的个数 如果一样 不需要处理 不一样 需要递归向上处理\r\n        $tr.find(\"td\").each(function (i) {\r\n\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n\r\n            var tLeft = $(this).offset().left;\r\n\r\n            if (tdColspan) {\r\n\r\n                trtdLen += parseInt(tdColspan);\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += parseInt(tdColspan);\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += parseInt(tdColspan);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n\r\n            } else {\r\n\r\n                trtdLen += 1;\r\n\r\n                for (var c = tdCol; c < tbtdLen; c++) {\r\n\r\n                    if (tLeft != TdPosi[c].X) {\r\n                        tdCol += 1;\r\n                        DefectIndex.push(c);\r\n                    } else {\r\n                        tdCol += 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n\r\n        //后门还有合并的行\r\n        if (tdCol < TdPosi.length) {\r\n            for (var de = tdCol; de < TdPosi.length; de++) {\r\n                DefectIndex.push(de);\r\n            }\r\n        }\r\n\r\n        //td 中不止一个元素\r\n        if ($tr.find(\"td\").length > 0) {\r\n\r\n            $tr.find(\"td\").each(function (i) {\r\n\r\n                //当前有合并的行需要处理\r\n                var $this = $(this),\r\n                    tdRowSpan = $this.attr(\"rowspan\");\r\n\r\n                //当前有合并想  合并的行需要移除\r\n                if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n\r\n                    var tLeft = $this.offset().left;\r\n\r\n                    var $cloneTd = $this.clone();\r\n                    $cloneTd.attr(\"rowspan\", parseInt(tdRowSpan) - 1);\r\n\r\n                    $tr.next().find(\"td\").each(function () {\r\n\r\n                        var tsLeft = $(this).offset().left;\r\n\r\n                        if (tsLeft > tLeft) {\r\n                            $(this).before($cloneTd);\r\n                            return false;\r\n                        }\r\n\r\n                    });\r\n\r\n                    $this.removeAttr(\"rowspan\");\r\n                }\r\n\r\n            });\r\n\r\n\r\n        } else {\r\n            // $tr.remove();\r\n        }\r\n\r\n\r\n        //么有合并不用处理\r\n        if (trtdLen == tbtdLen) {\r\n            $tr.remove();\r\n            $(\"#desiContent\").removeAttr(\"style\");\r\n            return;\r\n        }\r\n\r\n        var $diffRowTr = [];\r\n\r\n        //DefectIndex 缺失行的索引 \r\n        $tr.prevUntil().each(function () {\r\n\r\n            $(this).find(\"td\").each(function () {\r\n\r\n                var $this = $(this);\r\n\r\n                var tdRowSpan = $this.attr(\"rowspan\");\r\n\r\n                //纯在合并行\r\n                if (tdRowSpan && parseInt(tdRowSpan) > 1) {\r\n\r\n                    var tLeft = $this.offset().left,\r\n                        index = 0;\r\n\r\n                    $.each(TdPosi, function (i, item) {\r\n                        if (item.X == tLeft) {\r\n                            index = i;\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n                    var removeIndex = 0;\r\n                    //如果刚好是缺失的行 行加一  跳出\r\n                    for (var zp = 0; zp < DefectIndex.length; zp++) {\r\n                        if (index == DefectIndex[zp]) {\r\n                            //$this.attr(\"rowspan\", parseInt(tdRowSpan) - 1); \r\n                            $diffRowTr.push($this);\r\n                            DefectIndex.splice(zp, 1);\r\n                            removeIndex = zp;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    var tdColSpan = $this.attr(\"colspan\");\r\n\r\n                    //如果缺失的行还有 colspan\r\n                    if (tdColSpan && parseInt(tdColSpan) > 1) {\r\n\r\n                        tdColSpan = parseInt(tdColSpan) - 1;\r\n\r\n                        for (var zpl = 0; zpl < tdColSpan; zpl++) {\r\n\r\n                            removeIndex += 1;\r\n\r\n                            DefectIndex.splice(removeIndex, 1);\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                //么有了跳出\r\n                if (DefectIndex.length <= 0) {\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n            if (DefectIndex.length <= 0) {\r\n                return false;\r\n            }\r\n\r\n        });\r\n\r\n        $.each($diffRowTr, function (i, $item) {\r\n            $item.attr(\"rowspan\", parseInt($item.attr(\"rowspan\")) - 1);\r\n        });\r\n\r\n        $tr.remove();\r\n        $(\"#desiContent\").removeAttr(\"style\");\r\n    },\r\n\r\n    /***********************************************************  行操作 end  ***************************************************************/\r\n\r\n\r\n    /***********************************************************  列操作 end  ***************************************************************/\r\n\r\n    insertTd($td) {\r\n\r\n        if (!$td) {\r\n            return;\r\n        }\r\n\r\n        //隐藏滚动条 以免添加行后出现 影响td位置计算\r\n        $(\"#desiContent\").css(\"overflow\", \"hidden\");\r\n\r\n        // 实现原理 先 追加到 最后，然后重新计算位置\r\n        var $tb = $td.closest(\".tbLayout\"),\r\n            newTdW = this.reDiffTdWidth($tb),\r\n            $newTd = $('<td/>');\r\n        //新的td\r\n        //td 有宽度\r\n        if (newTdW) {\r\n            $newTd.attr(\"width\", newTdW);\r\n        }\r\n        $newTd.append('<div class=\"default-ele\">&nbsp;</div>');\r\n        var tdStr = $('<div/>').append($newTd).html();\r\n\r\n\r\n        //追加到最后\r\n        $tb.find(\"tr\").each(function () {\r\n            $(this).append(tdStr);\r\n        });\r\n\r\n        //插入后处理\r\n        var tdOffset = $td.offset(),\r\n            tdLeft = tdOffset.left,\r\n            tdRigth = tdOffset.left + $td.width(),\r\n            breakCount = 0;\r\n\r\n\r\n        $tb.find(\"tr\").each(function () {\r\n\r\n            var $tTr = $(this);\r\n\r\n            //跳过  \r\n            if (breakCount > 0) {\r\n                $tTr.find(\"td:last\").remove();\r\n                breakCount--;\r\n                return true;\r\n            }\r\n\r\n\r\n\r\n            //遍历没有td 找到 相同位置上的元素\r\n            $tTr.find(\"td\").each(function () {\r\n\r\n                var $eTd = $(this),\r\n                    Eoffset = $eTd.offset();\r\n\r\n                //找到了\r\n                if (Eoffset.left <= tdLeft && Eoffset.left + $eTd.width() >= tdRigth) {\r\n\r\n                    var thisColspan = $eTd.attr(\"colspan\");\r\n\r\n                    if (thisColspan && thisColspan > 1) {\r\n\r\n                        var newColspan = parseInt(thisColspan) + 1,\r\n                            thisRowSpan = $eTd.attr(\"rowspan\");\r\n                        //合并单元格的行\r\n                        if (thisRowSpan && thisRowSpan > 1) {\r\n                            //减去当前 这一行\r\n                            breakCount = parseInt(thisRowSpan) - 1;\r\n                        }\r\n\r\n                        $eTd.attr(\"colspan\", newColspan);\r\n\r\n                    } else {\r\n                        $eTd.after(tdStr);\r\n                    }\r\n\r\n                    //移除最后一个 是我们自己添加的占位符\r\n                    $tTr.find(\"td:last\").remove();\r\n                    //下一行\r\n                    return false;\r\n                }\r\n\r\n            });\r\n        });\r\n\r\n        $(\"#desiContent\").removeAttr(\"style\");\r\n\r\n    },\r\n\r\n    //重新计算td的宽度\r\n    reDiffTdWidth($tb) {\r\n\r\n        var $fieldItem = $tb.closest(\".fieldItem\"),\r\n            isFixedW = $tb.find(\"tr td:first\").attr(\"width\");\r\n\r\n        if (isFixedW) {\r\n\r\n            var colspan = 0,\r\n                fwidth = $fieldItem.width(),\r\n                tbW = 0;\r\n\r\n            $fieldItem.find(\"table tr:first td\").each(function () {\r\n\r\n                var tdColspan = $(this).attr(\"colspan\");\r\n                tbW += $(this).width();\r\n\r\n                if (tdColspan) {\r\n                    colspan += parseInt(tdColspan);\r\n                } else {\r\n                    colspan += 1;\r\n                }\r\n            });\r\n\r\n            //添加一列后的宽度 默认 平分的宽度\r\n            var nW = Math.floor(fwidth / (colspan + 1));\r\n\r\n            //重新计算td 的宽度  按比例 减去 宽度\r\n            $fieldItem.find(\"table tr td\").each(function () {\r\n\r\n                var $this = $(this),\r\n\r\n                    tW = parseInt($this.attr(\"width\"));\r\n\r\n                tW -= (tW / tbW * nW);\r\n\r\n                tW = tW > 1 && tW || 1;\r\n\r\n                tW = Math.floor(tW);\r\n\r\n                $this.attr(\"width\", tW);\r\n\r\n            });\r\n\r\n            return nW;\r\n\r\n        }\r\n\r\n        //没有计算\r\n        return false;\r\n\r\n    },\r\n\r\n    //删除表格列\r\n    deleteTd($td) {\r\n\r\n        if (!$td || $td.closest(\"body\").length <= 0) {\r\n            return;\r\n        }\r\n\r\n\r\n        //隐藏滚动条 以免添加行后出现 影响td位置计算\r\n        $(\"#desiContent\").css(\"overflow\", \"hidden\");\r\n\r\n        //实现思路 存在 合并单元格的 处理太复杂 所以 如果有存在合并的 就拆分掉 在 循环遍历处理  一次只删除一个单元格\r\n\r\n        var $tb = $td.closest(\".tbLayout\"),\r\n            tdColspan = $td.attr(\"colspan\"),\r\n            tdRowSpan = $td.attr(\"rowspan\"),\r\n            $tdArr = [];\r\n\r\n        //合并单元格的 td\r\n        if (tdColspan && tdColspan > 1 || tdRowSpan && tdRowSpan > 1) {\r\n\r\n            //拆分单元格\r\n            this.splitCell($td);\r\n            //动态加载出来的td个数\r\n            var count = parseInt(tdColspan);\r\n\r\n            if (count > 0) {\r\n                //所有需要删除的td\r\n                for (var i = 0; i < count; i++) {\r\n                    if ($tdArr.length > 0) {\r\n                        $tdArr.push($tdArr[i - 1].next());\r\n                    } else {\r\n                        $tdArr.push($td);\r\n                    }\r\n                }\r\n            } else {\r\n                $tdArr.push($td);\r\n            }\r\n\r\n        } else {\r\n            $tdArr.push($td);\r\n        }\r\n\r\n        var delCol = 0,\r\n            self = this;\r\n\r\n        $.each($tdArr, function () {\r\n\r\n            var $this = this,\r\n                removeOffset = $this.offset(),\r\n                rLeft = removeOffset.left,\r\n                tw = $this.width(),\r\n                rRight = removeOffset.left + tw,\r\n                //缓存td的操作 避免 即时操作 表格变形\r\n                cacheOpTds = [];\r\n\r\n            //保留一列 不让删除\r\n            if ($tb.find(\"tr:first td\").length <= 1) {\r\n                $tb.closest(\".fieldItem\").find(\".btnDelField\").click();\r\n                return false;\r\n            }\r\n\r\n            $tb.find(\"tr\").each(function () {\r\n\r\n                //遍历没有td 找到 相同位置上的元素\r\n                $(this).find(\"td\").each(function () {\r\n\r\n                    var $eTd = $(this),\r\n                        Eoffset = $eTd.offset();\r\n\r\n                    //找到了\r\n                    if (Eoffset.left <= rLeft && Eoffset.left + $eTd.width() >= rRight) {\r\n\r\n                        var thisColspan = $eTd.attr(\"colspan\");\r\n\r\n                        if (thisColspan && thisColspan > 1) {\r\n\r\n                            var newColspan = parseInt(thisColspan) - 1;\r\n\r\n                            cacheOpTds.push({\r\n                                $el: $eTd,\r\n                                type: \"colspan\",\r\n                                colSpan: newColspan\r\n                            });\r\n\r\n                        } else {\r\n                            cacheOpTds.push({\r\n                                $el: $eTd,\r\n                                type: \"remove\"\r\n                            });\r\n                        }\r\n                        //下一行\r\n                        return false;\r\n                    }\r\n\r\n                });\r\n\r\n            });\r\n\r\n            //进行真实的操作 没一列 进行一次操作\r\n            $.each(cacheOpTds, function () {\r\n                if (this.type == \"remove\") {\r\n                    //平均分列宽\r\n                    self.CellAverage(this.$el);\r\n                    this.$el.remove();\r\n                } else {\r\n\r\n                    //减去删除的宽度\r\n                    var newW = this.$el.width() - tw;\r\n                    this.$el.attr(\"colspan\", this.colSpan).attr(\"width\", newW);\r\n\r\n                }\r\n            });\r\n\r\n            delCol++;\r\n\r\n        });\r\n\r\n        var $txtCol = $(\"#controlAttrs .txtCol\");\r\n        $txtCol.val(parseInt($txtCol.val()) - delCol);\r\n\r\n        //清除滚动条\r\n        $(\"#desiContent\").removeAttr(\"style\");\r\n\r\n    },\r\n\r\n    //平均分移除td的宽度\r\n    CellAverage($td) {\r\n\r\n        var $tds = $td.siblings(),\r\n            nW = $td.width(),\r\n            tbW = $td.parent().width() - nW;\r\n\r\n        //重新计算td 的宽度  按比例 减去 宽度\r\n        $tds.each(function () {\r\n\r\n            var $this = $(this),\r\n\r\n                tW = parseInt($this.attr(\"width\"));\r\n\r\n            tW += (tW / tbW * nW);\r\n\r\n            tW = Math.floor(tW);\r\n\r\n            $this.attr(\"width\", tW);\r\n\r\n        });\r\n\r\n\r\n    },\r\n\r\n    //拆分单元格\r\n    splitCell($td) {\r\n\r\n        //td 总行数\r\n        var $tb = $td.closest('.tbLayout'),\r\n            tbtdLen = 0,\r\n            thisColspan = $td.attr(\"colspan\");\r\n\r\n        //表格td 的 个数\r\n        $tb.find(\"tr:first td\").each(function () {\r\n            var tdColspan = $(this).attr(\"colspan\");\r\n            if (tdColspan) {\r\n                tbtdLen += parseInt(tdColspan);\r\n            } else {\r\n                tbtdLen += 1;\r\n            }\r\n        });\r\n\r\n        //每个td的位置\r\n        var TdPosi = this.getTdPosi(tbtdLen, $tb),\r\n            tdOffset = $td.offset(),\r\n            tdRowSpan = $td.attr(\"rowspan\"),\r\n            index = 0;\r\n\r\n        $.each(TdPosi, function (i, item) {\r\n            //找到了\r\n            if (item.X == tdOffset.left) {\r\n                index = i;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        var strTd = '',\r\n            firstTd = '<td width=\"' + TdPosi[index].W + '\"><div class=\"tdNull\">&nbsp;</div></td>',\r\n            firstW = TdPosi[index].W;\r\n\r\n        index++;\r\n\r\n        for (var j = 1; j < thisColspan; j++) {\r\n            strTd += '<td width=\"' + TdPosi[index].W + '\"><div class=\"tdNull\">&nbsp;</div></td>';\r\n            index++;\r\n        }\r\n\r\n        if (tdRowSpan > 1) {\r\n\r\n            //所有需要处理的tr\r\n            var $tr = $td.parent(),\r\n                $trArr = [];\r\n\r\n            for (var k = 1; k < tdRowSpan; k++) {\r\n\r\n                if ($trArr.length > 0) {\r\n                    $trArr.push($trArr[k - 2].next());\r\n                } else {\r\n                    $trArr.push($tr.next());\r\n                }\r\n            }\r\n\r\n            //反转 从最后一个开始处理\r\n            $trArr.reverse();\r\n\r\n            if (thisColspan == tbtdLen) {\r\n\r\n                $.each($trArr, function () {\r\n                    var $this = this,\r\n                        newRowspan = parseInt($td.attr(\"rowspan\")) - 1;\r\n                    $this.append(firstTd + strTd);\r\n                    $td.attr(\"rowspan\", newRowspan).removeAttr(\"height\");\r\n                });\r\n\r\n            } else {\r\n\r\n                $.each($trArr, function () {\r\n\r\n                    var $this = this;\r\n\r\n\r\n                    $this.find(\"td\").each(function () {\r\n\r\n                        var $ttd = $(this),\r\n                            nextLen = $ttd.next().length,\r\n                            isOffsetF = $ttd.offset().left > tdOffset.left;\r\n\r\n                        //找到 或者 最后 加到最后 因为合并单元格在最后\r\n                        if (isOffsetF || nextLen <= 0) {\r\n\r\n                            var newRowspan = parseInt($td.attr(\"rowspan\")) - 1;\r\n\r\n                            if (!isOffsetF) {\r\n                                $ttd.after(firstTd + strTd);\r\n                            } else {\r\n                                $ttd.before(firstTd + strTd);\r\n                            }\r\n\r\n                            $td.attr(\"rowspan\", newRowspan).removeAttr(\"height\");\r\n\r\n                            return false;\r\n                        }\r\n\r\n                    });\r\n\r\n                });\r\n            }\r\n\r\n            //当合并 列 大于一的时候 才对原始td进行colspan操作\r\n            if (thisColspan > 1) {\r\n                //原本的td处理\r\n                $td.after(strTd);\r\n                $td.attr(\"width\", firstW).attr(\"colspan\", 1);\r\n            }\r\n\r\n        } else {\r\n            $td.after(strTd);\r\n            $td.attr(\"width\", firstW).attr(\"colspan\", 1);\r\n        }\r\n\r\n\r\n    },\r\n\r\n}\r\n\r\nexport default CellOp;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Props/CellOp.js","import DefHtml from \"./DefHtml.js\"\r\nimport CellOp from \"./CellOp\"\r\n\r\nvar Props = {\r\n\r\n    //设置行列\r\n    setColRow($fieldItem) {\r\n\r\n        //html\r\n        var $colRow = $(DefHtml.colRow),\r\n            col = $fieldItem.find(\"th\").length,\r\n            row = $fieldItem.find(\"tbody tr\").length;\r\n\r\n        $colRow.find(\".txtRow\").val(row);\r\n        $colRow.find(\".txtCol\").val(col);\r\n\r\n        var that = this;\r\n\r\n        //确定\r\n        $colRow.on(\"click\", \".btnSet\", function () {\r\n\r\n            var newRow = parseInt($colRow.find(\".txtRow\").val()),\r\n                newCol = parseInt($colRow.find(\".txtCol\").val());\r\n\r\n            //输入有误\r\n            if (!newRow || !newCol) {\r\n                col = $fieldItem.find(\"th\").length,\r\n                    row = $fieldItem.find(\"tbody tr\").length;\r\n                $colRow.find(\".txtRow\").val(row);\r\n                $colRow.find(\".txtCol\").val(col);\r\n                return;\r\n            }\r\n\r\n            var $oldFieldItem = $fieldItem.find(\".fieldItem\"),\r\n                $newEl = that.render(newRow, newCol);\r\n\r\n            $fieldItem.find(\".tbLayout\").html($newEl.find(\".tbLayout\").html());\r\n\r\n            var op = $(this).attr(\"op\");\r\n\r\n            //不是重置 恢复数据\r\n            if (op != 'reset') {\r\n\r\n                $fieldItem.find(\"td\").each(function (i) {\r\n\r\n                    var $this = $(this);\r\n                    if ($this.hasClass(\"seatLast\")) {\r\n                        return true;\r\n                    }\r\n\r\n                    if ($oldFieldItem[i]) {\r\n                        $this.html($oldFieldItem[i]);\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n        });\r\n\r\n        return $colRow;\r\n    },\r\n\r\n    //表格设置\r\n    tbSet($fieldItem){\r\n\r\n        var $tbSet = $(DefHtml.tbSet);\r\n\r\n        //操作\r\n        $tbSet.on(\"click\",\".btnNorMal\",function(){\r\n\r\n            var type = $(this).attr(\"type\");\r\n            if(type==\"rowcolspan\"){\r\n                CellOp.rowColSpan($fieldItem.find(\".tbLayout\"));\r\n            }\r\n        });\r\n\r\n        return $tbSet;\r\n        \r\n    }\r\n\r\n}\r\n\r\nexport default Props;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Props/Index.js","var DropTo = {\r\n\r\n    //入口\r\n    init($tb) {\r\n\r\n        var that = this;\r\n\r\n        //hover 显示resize\r\n        $tb.on(\"mousemove\", \"th\", function (event) {\r\n\r\n            var $this = $(this),\r\n                $tb = $this.closest(\".tbLayout\");\r\n\r\n            $tb.find(\".ewResize\").removeClass(\"ewResize\");\r\n\r\n            that.tdCellWidth($this, event);\r\n\r\n            return;\r\n        });\r\n\r\n\r\n        //td 选中\r\n        $tb.on(\"mousedown\", \"th.ewResize\", function (event) {\r\n            that.tdMoveChangeCellWidth($(this), event);\r\n        });\r\n\r\n        //td 框选\r\n        $tb.on(\"mousedown\", \"td\", function (event) {\r\n\r\n            that.bindSelectionTdEvent({\r\n                initX: event.pageX,\r\n                initY: event.pageY,\r\n                $table: $(this).closest(\"table\")\r\n            });\r\n\r\n        });\r\n    },\r\n\r\n\r\n    //拖动列宽\r\n    tdCellWidth($el, event) {\r\n\r\n        var eOffset = $el.offset(),\r\n            eW = $el.width(),\r\n            pageX = event.pageX,\r\n            isFirst = $el.prev().length <= 0 && true || false,\r\n            isLast = $el.next().length <= 0 && true || false;\r\n\r\n        if (!isFirst) {\r\n\r\n            if (pageX > eOffset.left && pageX < eOffset.left + 10) {\r\n                $el.addClass(\"ewResize\");\r\n                $el.data(\"ewdirc\", \"left\");\r\n                return;\r\n            } else {\r\n                $el.removeClass(\"ewResize\");\r\n            }\r\n        }\r\n\r\n        if (!isLast) {\r\n            var tdW = eOffset.left + eW;\r\n            if (pageX < tdW && pageX > tdW - 10) {\r\n                $el.addClass(\"ewResize\");\r\n                $el.addClass(\"ewResize\");\r\n                $el.data(\"ewdirc\", \"right\");\r\n            } else {\r\n                $el.removeClass(\"ewResize\");\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    //拖拽改变大小\r\n    tdMoveChangeCellWidth($el, event) {\r\n\r\n        //没有合并过\r\n        if (!$el.attr(\"width\")) {\r\n\r\n            //设置宽度\r\n            $el.closest(\".tbLayout\").find(\"th\").each(function () {\r\n                var $this = $(this);\r\n                $this.attr(\"width\", $this.width());\r\n            });\r\n        }\r\n\r\n        var {\r\n            pageX: sourceX\r\n        } = event,\r\n\r\n        that = this,\r\n            ewdirc = $el.data(\"ewdirc\"),\r\n            sourceW = parseInt($el.attr(\"width\"));\r\n\r\n\r\n        $(window).on(\"mousemove.ewResize\", function (event) {\r\n\r\n            var diffX = event.pageX - sourceX; \r\n\r\n            if (diffX == 0) {\r\n                return;\r\n            }\r\n\r\n\r\n            if (ewdirc != \"left\") {\r\n\r\n                var newW = sourceW + diffX, \r\n                    diffTdW = newW - parseInt($el.attr(\"width\"));\r\n\r\n                if (newW < 1) {\r\n                    return;\r\n                }\r\n\r\n                var nextW = parseInt($el.next().attr(\"width\")) - diffTdW,\r\n                    elW = parseInt($el.attr(\"width\")) + diffTdW\r\n\r\n                //宽度小于1  不用处理\r\n                if (nextW < 2 || elW < 2) {\r\n                    return false;\r\n                }\r\n\r\n                $el.next().width(nextW);\r\n                $el.width(elW);\r\n\r\n                //that.setTdWidth(tdArr);\r\n\r\n            } else {\r\n\r\n                var newW = sourceW - diffX, \r\n                    diffTdW = newW - parseInt($el.attr(\"width\"));\r\n\r\n                if (newW < 1) {\r\n                    return;\r\n                }\r\n\r\n                var prevW = parseInt($el.prev().attr(\"width\")) - diffTdW,\r\n                    elW = parseInt($el.attr(\"width\")) + diffTdW;\r\n\r\n\r\n                //宽度小于1  不用处理\r\n                if (prevW < 2 || elW < 2) {\r\n                    tdArr = [];\r\n                    return false;\r\n                }\r\n\r\n                $el.prev().width(prevW);\r\n                $el.width(elW);\r\n                //that.setTdWidth(tdArr);\r\n            }\r\n\r\n            return false;\r\n\r\n        });\r\n\r\n        $(window).on(\"mouseup.ewResize\", function () {\r\n            $(window).off(\"mousemove.ewResize\");\r\n            $(window).off(\"mouseup.ewResize\");\r\n            $(\".tbLayout .ewResize\").removeClass(\"ewResize\");\r\n        });\r\n    },\r\n\r\n     //绑定td合并前的选中\r\n     bindSelectionTdEvent: function (initPoint) {\r\n\r\n        $(\"body\").addClass(\"noSelected\");\r\n\r\n        //initPoint  初始化 位置 \r\n        var that = this,\r\n            $selectionBox = false;\r\n\r\n        $(window).on(\"mousemove.selectionTd\", function (event) {\r\n\r\n            var newX = event.pageX,\r\n                newY = event.pageY,\r\n                w = newX - initPoint.initX,\r\n                h = newY - initPoint.initY,\r\n                styleObj = {\r\n                    width: w,\r\n                    height: h,\r\n                    left: initPoint.initX,\r\n                    top: initPoint.initY\r\n                };\r\n\r\n            if (initPoint.initX == newX && initPoint.initY == newY) {\r\n                return false;\r\n            }\r\n\r\n            if ($(\"#selectionBox\").length <= 0) {\r\n                $(\"body\").append(\"<div id='selectionBox'></div>\");\r\n                $selectionBox = $(\"#selectionBox\");\r\n            }\r\n\r\n            if (w < 0) {\r\n\r\n                styleObj.left = initPoint.initX + w;\r\n                w = Math.abs(w);\r\n                styleObj.width = w;\r\n            }\r\n\r\n            if (h < 0) {\r\n                styleObj.top = initPoint.initY + h;\r\n                h = Math.abs(h);\r\n                styleObj.height = h;\r\n            }\r\n\r\n            $selectionBox.css(styleObj);\r\n\r\n            //计算\r\n            that.diffSelectionTd(styleObj, initPoint.$table);\r\n            return false;\r\n\r\n        });\r\n\r\n\r\n        $(window).on(\"mouseup.selectionTd\", function () {\r\n\r\n            $(window).off(\"mousemove.selectionTd\");\r\n            \r\n            $(window).off(\"mouseup.selectionTd\");\r\n\r\n            $selectionBox && $selectionBox.remove();\r\n\r\n            $(\"body\").removeClass(\"noSelected\"); \r\n\r\n            $(\"body\").one(\"click\",function(){ \r\n                initPoint.$table.find(\".active\").removeClass(\"active\");\r\n            });\r\n        });\r\n    },\r\n\r\n    //计算选中的td\r\n    diffSelectionTd: function (styleObj, $table) {\r\n\r\n        var that = this;\r\n        //遍历所有的td  \r\n        $table.find(\"td\").each(function () {\r\n\r\n            var $td = $(this),\r\n                cX = $td.offset().left,\r\n                cY = $td.offset().top,\r\n                cW = $td.width(),\r\n                cH = $td.height(),\r\n                isInTop = cX < styleObj.left && cX + cW > styleObj.left || cX > styleObj.left && cX < styleObj.left + styleObj.width;\r\n\r\n            if (!isInTop) {\r\n                $td.removeClass(\"active\");\r\n                return true;\r\n            }\r\n\r\n            if (cY < styleObj.top && cY + cH > styleObj.top || cY > styleObj.top && cY < styleObj.top + styleObj.height) {\r\n                if(!$td.hasClass(\"seatLast\")){\r\n                    $td.addClass(\"active\");\r\n                }\r\n                \r\n                //横向\r\n                if ($td.attr(\"colspan\")) {\r\n                    var newRight = cX + cW;\r\n                    if (newRight > styleObj.left + styleObj.width) {\r\n\r\n                        styleObj.width = newRight - styleObj.left;\r\n\r\n                        that.diffSelectionTd(styleObj, $table);\r\n\r\n                        return false;\r\n                    } else if (cX < styleObj.left) {\r\n\r\n                        styleObj.width = styleObj.left + styleObj.width - cX - 1;\r\n                        //因为是小于 所以要去掉一\r\n                        styleObj.left = cX - 1;\r\n\r\n                        that.diffSelectionTd(styleObj, $table);\r\n\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                //纵向\r\n                if ($td.attr(\"rowspan\")) {\r\n\r\n                    var newBottom = cY + cH;\r\n\r\n                    if (newBottom > styleObj.top + styleObj.height) {\r\n\r\n                        styleObj.height = newBottom - styleObj.top;\r\n\r\n                        that.diffSelectionTd(styleObj, $table);\r\n\r\n                        return false;\r\n                    }\r\n                }\r\n            } else {\r\n                $td.removeClass(\"active\");\r\n            }\r\n\r\n        });\r\n\r\n    },\r\n\r\n\r\n}\r\n\r\nexport default DropTo;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/DropTo.js","import DropTo from \"./DropTo\"\r\n\r\n \r\nvar Events = {\r\n    DropTo:DropTo\r\n}\r\n\r\nexport default Events;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Events/Index.js","import \"./Css/Index.less\"\r\n\r\nimport BaseControl from \"../../Base/Index\"\r\nimport autosize from \"../../../Js/autosize\"\r\n\r\nimport PrivateProps from \"./Props/Index\"\r\n\r\nimport PrivateEvents from \"./Events/Index\"\r\n\r\nvar TableControl = {\r\n\r\n    metaInfo: {\r\n        type: \"Table\",\r\n        name: \"布局表格\",\r\n        iconClass: \"zppicon-biaoge\",\r\n        title: \"用于页面布局，允许合并单元格\"\r\n    },\r\n\r\n    PrivateProps:PrivateProps,\r\n\r\n    //默认绘制表格数据\r\n    defaultData(rowLen, cellLen) {\r\n\r\n        var rows = [],\r\n            head = [];\r\n\r\n        if (!rowLen) {\r\n            rowLen = 3;\r\n        }\r\n        if (!cellLen) {\r\n            cellLen = 3;\r\n        }\r\n\r\n        for (var i = 0; i < rowLen; i++) {\r\n\r\n            var cell = [],\r\n                tCell = [];\r\n\r\n            for (var j = 0; j < cellLen; j++) {\r\n\r\n                cell.push({\r\n                    childrens: []\r\n                });\r\n\r\n                tCell.push({\r\n                    childrens: []\r\n                });\r\n            }\r\n\r\n            rows.push({\r\n                cells: cell\r\n            });\r\n\r\n            if (i == 0) {\r\n                head.push({\r\n                    cells: tCell\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        return {\r\n            type: \"Table\",\r\n            id: \"Table_\" + (+new Date()),\r\n            Settings: {},\r\n            layOut: {\r\n                tbody: rows,\r\n                thead: head\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    //渲染\r\n    render: function (data) {\r\n\r\n        if (!data || arguments.length > 1) {\r\n            var deData = this.defaultData.apply(this,arguments);\r\n            data = Object.create(deData);\r\n        }\r\n\r\n        var $fieldItem = $('<div class=\"fieldItem\" /> ');\r\n\r\n        //渲染列\r\n        this.renderCell($fieldItem, data);\r\n\r\n        //自动到不 textinput\r\n        autosize($fieldItem.find(\".txtInput\"));\r\n\r\n        //设计模式\r\n        if (this.$$root.Settings.mode == \"desi\") {\r\n            //拖拽改变宽度\r\n            PrivateEvents.DropTo.init($fieldItem);\r\n        }\r\n\r\n        return $fieldItem;\r\n    },\r\n\r\n    //渲染列\r\n    renderCell($fieldItem, data) {\r\n\r\n\r\n        var $tb = $('<table class=\"tbLayout\" />'),\r\n            $$root = this.$$root;\r\n\r\n        $tb.append('<thead />');\r\n        $tb.append('<tbody />');\r\n\r\n        $tb.attr(\"id\", data.id);\r\n\r\n        if (data.layOut && data.layOut.thead) {\r\n\r\n            var rows = data.layOut.tbody;\r\n\r\n            $.each(rows, function (i, rowItem) {\r\n\r\n                var $tr = $('<tr/>');\r\n\r\n                $.each(rowItem.cells, function (j, cellItem) {\r\n\r\n                    var $td = $('<td/>'),\r\n                        Settings = cellItem.Settings,\r\n                        childrens = cellItem.childrens;\r\n\r\n                    if (Settings) {\r\n                        if (Settings.rowSpan) {\r\n                            $td.attr(\"rowspan\", Settings.rowSpan);\r\n                        }\r\n\r\n                        if (Settings.colSpan) {\r\n                            $td.attr(\"colspan\", Settings.colSpan);\r\n                        }\r\n                    }\r\n\r\n                    if (childrens && childrens.length > 0) {\r\n\r\n                        $.each(childrens, function (l, childItem) {\r\n\r\n                            var InsControl = $$root.AllControls.getControlByType(childItem.type)\r\n\r\n                            if (InsControl) {\r\n                                var $fieldItem = InsControl.render($$root, childItem).render(childItem);\r\n                                $td.append($fieldItem);\r\n                            }\r\n\r\n                        });\r\n\r\n                    } else {\r\n                        $td.append($$root.AllControls.getControlByType(\"TextInput\").render());\r\n                    }\r\n\r\n                    $tr.append($td);\r\n\r\n                });\r\n\r\n                $tr.append('<td class=\"seatLast\" />');\r\n\r\n                $tb.find(\"tbody\").append($tr);\r\n\r\n            });\r\n\r\n\r\n            var headRows = data.layOut.thead;\r\n\r\n            $.each(headRows, function (i, tRowItem) {\r\n\r\n                var $tr = $('<tr/>');\r\n\r\n                $.each(tRowItem.cells, function (j, cellItem) {\r\n                    $tr.append('<th>TT</th>');\r\n                });\r\n\r\n                $tb.find(\"thead\").append($tr);\r\n\r\n            });\r\n\r\n\r\n        }\r\n\r\n        $fieldItem.append($tb);\r\n\r\n    },\r\n\r\n    //渲染属性\r\n    renderProps() {\r\n\r\n        var $setProps = this.$$root.find(\".setProps\"),\r\n            $fieldItem = this.$$root.find(\".fieldItem.selected\");\r\n\r\n        //清空\r\n        $setProps.empty();\r\n\r\n        //行列数\r\n        var $group = this.genGroup({\r\n            className: \"setRowCol\",\r\n            title: \"行列数\"\r\n        });\r\n        $group.append(this.PrivateProps.setColRow.call(this,$fieldItem));\r\n\r\n        $setProps.append($group);\r\n\r\n\r\n        var $group = this.genGroup({\r\n            className: \"tbSet\", \r\n        });\r\n        $group.append(this.PrivateProps.tbSet.call(this,$fieldItem));\r\n\r\n        $setProps.append($group);\r\n\r\n\r\n\r\n    },\r\n\r\n    //销毁\r\n    destroy() {\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nObject.setPrototypeOf(TableControl, BaseControl);\r\n\r\nexport default TableControl;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Table/Index.js","\r\nimport TableControl from \"./Table/Index\"\r\n\r\nvar LayOut = {\r\n\r\n    metaInfo: {\r\n        title: \"布局\"\r\n    },\r\n\r\n    Controls: [TableControl],\r\n\r\n    addControl(control){\r\n        this.Controls.push(control);\r\n    }\r\n}\r\n\r\nexport default LayOut;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/LayOut/Index.js","import \"./Css/Index.less\"\r\n\r\n\r\nvar TextInput = {\r\n\r\n    defaultData() {\r\n\r\n        return {\r\n\r\n            type: \"TextInput\",\r\n\r\n            id: \"TextInput_\" + (+new Date()),\r\n\r\n            Settings: {\r\n                placeHolderText: \"\"\r\n            },\r\n\r\n            values: []\r\n        }\r\n    },\r\n\r\n    metaInfo: {\r\n        type: \"TextInput\",\r\n        name: \"文本输入框\",\r\n        iconClass: \"icon-wenbenshurukuang\",\r\n        attrs: {\r\n            maxLen: 200,\r\n            minLen: false,\r\n            placeHolderText: true,\r\n        }\r\n    },\r\n\r\n\r\n\r\n    render(data) {\r\n\r\n        if (!data) {\r\n            data = TextInput.defaultData();\r\n        }\r\n\r\n        var $fieldItem = $('<div class=\"fieldItem\" />'),\r\n            $setPlaceHolderBox = $('<div class=\"txtInputBox\" />'),\r\n            $txtInput = $('<textarea rows=\"1\" class=\"txtInput\"/>');\r\n\r\n        if (data.Settings.placeHolderText) {\r\n            $txtInput.attr('placeholder', data.Settings.placeHolderText);\r\n        }\r\n\r\n        $fieldItem.attr(\"id\", data.id).attr(\"type\", data.type);\r\n\r\n        if (data.values[0]) {\r\n            $txtInput.val(data.values[0]);\r\n        }\r\n\r\n        if (data.Settings.style) {\r\n            $txtInput.attr(\"style\", data.Settings.style);\r\n        }\r\n\r\n        $setPlaceHolderBox.append($txtInput);\r\n\r\n        $fieldItem.append($setPlaceHolderBox);\r\n\r\n        return $fieldItem;\r\n\r\n    },\r\n\r\n    parse() {\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default TextInput;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Basics/TextInput/Index.js","\r\nimport TextInputControl from \"./TextInput/Index\"\r\n\r\nvar Basics = {\r\n\r\n    metaInfo: {\r\n        title: \"控件\"\r\n    },\r\n\r\n    Controls: [TextInputControl],\r\n\r\n    addControl(control){\r\n        this.Controls.push(control);\r\n    }\r\n}\r\n\r\nexport default Basics;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Basics/Index.js","\r\nimport LayOut from \"./LayOut/Index\"\r\nimport Basics from \"./Basics/Index\"\r\n\r\nvar AllControls = {\r\n\r\n    getControlByType(type) {\r\n\r\n        var InsControl = false;\r\n\r\n        //查找控件 \r\n        $.each(Basics.Controls, function (i, item) {\r\n            //找到了\r\n            if (item.metaInfo.type == type) {\r\n                InsControl = item;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if(InsControl){\r\n            return InsControl;\r\n        }\r\n\r\n        //查找控件 \r\n        $.each(LayOut.Controls, function (i, item) {\r\n            //找到了\r\n            if (item.metaInfo.type == type) {\r\n                InsControl = item;\r\n                return false;\r\n            }\r\n        });\r\n\r\n        if(InsControl){\r\n            return InsControl;\r\n        }\r\n\r\n        return InsControl;\r\n\r\n    },\r\n\r\n    Controls: {\r\n\r\n        Basics: Basics,\r\n\r\n        LayOut: LayOut,\r\n    },\r\n\r\n\r\n}\r\n\r\n\r\nexport default AllControls;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Controls/Index.js","var Tpl = {\r\n\r\n    toDo: '<div class=\"reToDo\">' +\r\n        '<span class=\"btnReDo empty\"><i class=\"commoniconfont icon-chexiao\"></i><span class=\"text\">撤销</span></span>' +\r\n        ' <span class=\"btnToDo empty\"><i class=\"commoniconfont icon-huifu1\"></i><span class=\"text\">恢复</span></span></div>'\r\n\r\n}\r\n\r\nexport default Tpl;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Content/defTpl.js","\r\nimport defTpl from \"./defTpl.js\"\r\n\r\nimport \"./Css/Index.less\"\r\n\r\nvar DesiContent = {\r\n\r\n    //初始化\r\n    init() {\r\n\r\n        var $el = $('<div class=\"desiContent\"/>'); \r\n        \r\n        $el.append(defTpl.toDo);\r\n\r\n        $el.append('<div class=\"fromDesign\"/>');\r\n\r\n        this.$$root.$el.append($el);\r\n\r\n    },\r\n\r\n\r\n\r\n}\r\n\r\nexport default DesiContent;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Content/Index.js","\r\nimport \"./Css/Index.less\" \r\n\r\nvar PropsDesign = {\r\n\r\n    //初始化\r\n    init(Opts) {\r\n\r\n        var $el = $('<div class=\"designProps\"/>');\r\n\r\n        $el.append('<ul class=\"tabAttrs\"><li class=\"item\">控件设置</li></ul>');\r\n\r\n        $el.append('<div class=\"setProps\"></div>');\r\n\r\n        Opts.$el.append($el);\r\n\r\n    },\r\n\r\n    render(opts) {\r\n\r\n        var type = opts.type,\r\n            $setProps = opts.$el.find(\".setProps\"),\r\n            Control = Libs.AllControls[type];\r\n\r\n         \r\n        if (Control) {\r\n\r\n            var attrs = Control.metaInfo.attrs;\r\n\r\n            $setProps.html('');\r\n\r\n            if (attrs && attrs.length > 0) {\r\n\r\n                $.each(attrs, function (i, item) { \r\n\r\n                    var $attrItem = $('<div class=\"attrItem\" />');\r\n\r\n                    if(item.className){\r\n                        $attrItem.addClass(item.className);\r\n                    }\r\n\r\n                    if (item.title) {\r\n                        $attrItem.append('<div class=\"attrTitle\">' + item.title + '</div>');\r\n                    }\r\n\r\n                    var Options = item.Options;\r\n\r\n                    for (var key in Options) {\r\n                        if (CommPropsDef[key]) {\r\n                            $attrItem.append(CommPropsDef[key]);\r\n                        } else if (Control.PropsHtmlDef[key]) {\r\n                            $attrItem.append(Control.PropsHtmlDef[key]);\r\n                        }\r\n                    }\r\n\r\n                    $setProps.append($attrItem);\r\n\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default PropsDesign;\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Props/Index.js","\r\nimport \"./Css/reset.less\";\r\n\r\nimport NavControls from \"./NavControls/Index\"\r\nimport AllControls from \"./Controls/Index\"\r\nimport DesiContent from \"./Content/Index\"\r\nimport DesiProps from \"./Props/Index\" \r\n\r\n\r\nfunction FormDesi(params){  \r\n     \r\n    if(!this instanceof FormDesi){\r\n        return new FormDesi(params);\r\n    }\r\n\r\n    var defaults = { \r\n        $el: $(\"body\"),\r\n        mode:\"desi\"\r\n    }\r\n\r\n    this.Settings = $.extend(defaults, params);  \r\n\r\n    this.NavControls.$$root = this;\r\n    this.DesiContent.$$root = this;\r\n    this.DesiProps.$$root = this;\r\n    this.$el = this.Settings.$el;\r\n\r\n    this.NavControls.init(this.Settings); \r\n    this.DesiProps.init(this.Settings);\r\n    this.DesiContent.init(this.Settings);\r\n   \r\n}\r\n\r\nFormDesi.prototype.find = function(el){\r\n    return this.Settings.$el.find(el);\r\n}\r\n\r\nFormDesi.prototype.NavControls = NavControls; \r\n \r\nFormDesi.prototype.AllControls = AllControls;\r\n\r\nFormDesi.prototype.DesiContent = DesiContent;\r\n\r\nFormDesi.prototype.DesiProps = DesiProps;\r\n\r\nwindow.FormDesi = FormDesi;\r\n\r\nexport default FormDesi;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Form/Index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Css/reset.less\n// module id = 1\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/NavControls/Css/Index.less\n// module id = 2\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Controls/LayOut/Table/Css/Index.less\n// module id = 3\n// module chunks = 0","/*!\r\n\tautosize 4.0.2\r\n\tlicense: MIT\r\n\thttp://www.jacklmoore.com/autosize\r\n*/\r\n(function (global, factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(['module', 'exports'], factory);\r\n\t} else if (typeof exports !== \"undefined\") {\r\n\t\tfactory(module, exports);\r\n\t} else {\r\n\t\tvar mod = {\r\n\t\t\texports: {}\r\n\t\t};\r\n\t\tfactory(mod, mod.exports);\r\n\t\tglobal.autosize = mod.exports;\r\n\t}\r\n})(this, function (module, exports) {\r\n\t'use strict';\r\n\r\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\r\n\t\tvar keys = [];\r\n\t\tvar values = [];\r\n\r\n\t\treturn {\r\n\t\t\thas: function has(key) {\r\n\t\t\t\treturn keys.indexOf(key) > -1;\r\n\t\t\t},\r\n\t\t\tget: function get(key) {\r\n\t\t\t\treturn values[keys.indexOf(key)];\r\n\t\t\t},\r\n\t\t\tset: function set(key, value) {\r\n\t\t\t\tif (keys.indexOf(key) === -1) {\r\n\t\t\t\t\tkeys.push(key);\r\n\t\t\t\t\tvalues.push(value);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelete: function _delete(key) {\r\n\t\t\t\tvar index = keys.indexOf(key);\r\n\t\t\t\tif (index > -1) {\r\n\t\t\t\t\tkeys.splice(index, 1);\r\n\t\t\t\t\tvalues.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\r\n\tvar createEvent = function createEvent(name) {\r\n\t\treturn new Event(name, { bubbles: true });\r\n\t};\r\n\ttry {\r\n\t\tnew Event('test');\r\n\t} catch (e) {\r\n\t\t// IE does not support `new Event()`\r\n\t\tcreateEvent = function createEvent(name) {\r\n\t\t\tvar evt = document.createEvent('Event');\r\n\t\t\tevt.initEvent(name, true, false);\r\n\t\t\treturn evt;\r\n\t\t};\r\n\t}\r\n\r\n\tfunction assign(ta) {\r\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\r\n\r\n\t\tvar heightOffset = null;\r\n\t\tvar clientWidth = null;\r\n\t\tvar cachedHeight = null;\r\n\r\n\t\tfunction init() {\r\n\t\t\tvar style = window.getComputedStyle(ta, null);\r\n\r\n\t\t\tif (style.resize === 'vertical') {\r\n\t\t\t\tta.style.resize = 'none';\r\n\t\t\t} else if (style.resize === 'both') {\r\n\t\t\t\tta.style.resize = 'horizontal';\r\n\t\t\t}\r\n\r\n\t\t\tif (style.boxSizing === 'content-box') {\r\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\r\n\t\t\t} else {\r\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\r\n\t\t\t}\r\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\r\n\t\t\tif (isNaN(heightOffset)) {\r\n\t\t\t\theightOffset = 0;\r\n\t\t\t}\r\n\r\n\t\t\tupdate();\r\n\t\t}\r\n\r\n\t\tfunction changeOverflow(value) {\r\n\t\t\t{\r\n\t\t\t\t// Chrome/Safari-specific fix:\r\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\r\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\r\n\t\t\t\tvar width = ta.style.width;\r\n\t\t\t\tta.style.width = '0px';\r\n\t\t\t\t// Force reflow:\r\n\t\t\t\t/* jshint ignore:start */\r\n\t\t\t\tta.offsetWidth;\r\n\t\t\t\t/* jshint ignore:end */\r\n\t\t\t\tta.style.width = width;\r\n\t\t\t}\r\n\r\n\t\t\tta.style.overflowY = value;\r\n\t\t}\r\n\r\n\t\tfunction getParentOverflows(el) {\r\n\t\t\tvar arr = [];\r\n\r\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\r\n\t\t\t\tif (el.parentNode.scrollTop) {\r\n\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\tnode: el.parentNode,\r\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tel = el.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\treturn arr;\r\n\t\t}\r\n\r\n\t\tfunction resize() {\r\n\t\t\tif (ta.scrollHeight === 0) {\r\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar overflows = getParentOverflows(ta);\r\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\r\n             \r\n\t\t\tta.style.minHeight = '';\r\n\t\t\tta.style.minHeight = ta.scrollHeight + heightOffset + 'px';\r\n\r\n\t\t\t// used to check if an update is actually necessary on window.resize\r\n\t\t\tclientWidth = ta.clientWidth;\r\n\r\n\t\t\t// prevents scroll-position jumping\r\n\t\t\toverflows.forEach(function (el) {\r\n\t\t\t\tel.node.scrollTop = el.scrollTop;\r\n\t\t\t});\r\n\r\n\t\t\tif (docTop) {\r\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction update() {\r\n\t\t\tresize();\r\n\r\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\r\n\t\t\tvar computed = window.getComputedStyle(ta, null);\r\n\r\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\r\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\r\n\r\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \r\n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\r\n\t\t\tif (actualHeight < styleHeight) {\r\n\t\t\t\tif (computed.overflowY === 'hidden') {\r\n\t\t\t\t\tchangeOverflow('scroll');\r\n\t\t\t\t\tresize();\r\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\r\n\t\t\t\tif (computed.overflowY !== 'hidden') {\r\n\t\t\t\t\tchangeOverflow('hidden');\r\n\t\t\t\t\tresize();\r\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (cachedHeight !== actualHeight) {\r\n\t\t\t\tcachedHeight = actualHeight;\r\n\t\t\t\tvar evt = createEvent('autosize:resized');\r\n\t\t\t\ttry {\r\n\t\t\t\t\tta.dispatchEvent(evt);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\r\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar pageResize = function pageResize() {\r\n\t\t\tif (ta.clientWidth !== clientWidth) {\r\n\t\t\t\tupdate();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar destroy = function (style) {\r\n\t\t\twindow.removeEventListener('resize', pageResize, false);\r\n\t\t\tta.removeEventListener('input', update, false);\r\n\t\t\tta.removeEventListener('keyup', update, false);\r\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\r\n\t\t\tta.removeEventListener('autosize:update', update, false);\r\n\r\n\t\t\tObject.keys(style).forEach(function (key) {\r\n\t\t\t\tta.style[key] = style[key];\r\n\t\t\t});\r\n\r\n\t\t\tmap.delete(ta);\r\n\t\t}.bind(ta, {\r\n\t\t\theight: ta.style.height,\r\n\t\t\tresize: ta.style.resize,\r\n\t\t\toverflowY: ta.style.overflowY,\r\n\t\t\toverflowX: ta.style.overflowX,\r\n\t\t\twordWrap: ta.style.wordWrap\r\n\t\t});\r\n\r\n\t\tta.addEventListener('autosize:destroy', destroy, false);\r\n\r\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\r\n\t\t// so binding to onkeyup to catch most of those events.\r\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\r\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\r\n\t\t\tta.addEventListener('keyup', update, false);\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', pageResize, false);\r\n\t\tta.addEventListener('input', update, false);\r\n\t\tta.addEventListener('autosize:update', update, false);\r\n\t\tta.style.overflowX = 'hidden';\r\n\t\tta.style.wordWrap = 'break-word';\r\n\r\n\t\tmap.set(ta, {\r\n\t\t\tdestroy: destroy,\r\n\t\t\tupdate: update\r\n\t\t});\r\n\r\n\t\tinit();\r\n\t}\r\n\r\n\tfunction destroy(ta) {\r\n\t\tvar methods = map.get(ta);\r\n\t\tif (methods) {\r\n\t\t\tmethods.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction update(ta) {\r\n\t\tvar methods = map.get(ta);\r\n\t\tif (methods) {\r\n\t\t\tmethods.update();\r\n\t\t}\r\n\t}\r\n\r\n\tvar autosize = null;\r\n\r\n\t// Do nothing in Node.js environment and IE8 (or lower)\r\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\r\n\t\tautosize = function autosize(el) {\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.destroy = function (el) {\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.update = function (el) {\r\n\t\t\treturn el;\r\n\t\t};\r\n\t} else {\r\n\t\tautosize = function autosize(el, options) {\r\n\t\t\tif (el) {\r\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\r\n\t\t\t\t\treturn assign(x, options);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.destroy = function (el) {\r\n\t\t\tif (el) {\r\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t};\r\n\t\tautosize.update = function (el) {\r\n\t\t\tif (el) {\r\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\r\n\t\t\t}\r\n\t\t\treturn el;\r\n\t\t};\r\n\t}\r\n\r\n\texports.default = autosize;\r\n\tmodule.exports = exports['default'];\r\n});\r\n\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/Form/Js/autosize.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Controls/Basics/TextInput/Css/Index.less\n// module id = 5\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Content/Css/Index.less\n// module id = 6\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Form/Props/Css/Index.less\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}